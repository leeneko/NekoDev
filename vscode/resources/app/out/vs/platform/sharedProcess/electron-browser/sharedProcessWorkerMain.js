/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var Q=["require","exports","vs/base/common/platform","vs/base/common/extpath","vs/base/common/path","vs/base/common/types","vs/base/common/uri","vs/base/common/arrays","vs/base/common/errors","vs/base/common/lifecycle","vs/base/common/strings","vs/base/common/objects","vs/base/common/network","vs/base/common/resources","vs/base/common/processes","vs/base/common/stream","vs/base/common/buffer","vs/base/common/map","vs/base/common/normalization","vs/base/common/console","vs/base/common/async","vs/base/common/event","vs/base/common/uuid","vs/base/node/decoder","vs/base/node/pfs","vs/nls!vs/base/common/errorMessage","vs/nls","vs/nls!vs/platform/sharedProcess/electron-browser/sharedProcessWorkerMain","vs/base/common/errorMessage","vs/nls!vs/base/node/processes","vs/base/node/processes","child_process","vs/platform/instantiation/common/instantiation","vs/platform/sharedProcess/common/sharedProcessWorkerService","vs/platform/sharedProcess/electron-browser/sharedProcessWorker","vs/base/common/cancellation","string_decoder","fs","os","util","vs/base/common/process","vs/base/common/hash","vs/platform/sharedProcess/electron-browser/sharedProcessWorkerMain","console"],G=function(K){for(var e=[],c=0,A=K.length;c<A;c++)e[c]=Q[K[c]];return e};define(Q[7],G([0,1,8]),function(K,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.maxIndex=e.minIndex=e.splice=e.insertInto=e.mapFind=e.getRandomElement=e.asArray=e.mapArrayOrNot=e.pushToEnd=e.pushToStart=e.shuffle=e.arrayInsert=e.remove=e.insert=e.index=e.range=e.flatten=e.commonPrefixLength=e.firstOrDefault=e.lastIndex=e.findLast=e.uniqueFilter=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.move=e.coalesceInPlace=e.coalesce=e.topAsync=e.top=e.delta=e.sortedDiff=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function A(r,d=0){return r[r.length-(1+d)]}e.tail=A;function g(r){if(r.length===0)throw new Error("Invalid tail call");return[r.slice(0,r.length-1),r[r.length-1]]}e.tail2=g;function L(r,d,w=(R,N)=>R===N){if(r===d)return!0;if(!r||!d||r.length!==d.length)return!1;for(let R=0,N=r.length;R<N;R++)if(!w(r[R],d[R]))return!1;return!0}e.equals=L;function S(r,d,w){let R=0,N=r.length-1;for(;R<=N;){const H=(R+N)/2|0,$=w(r[H],d);if($<0)R=H+1;else if($>0)N=H-1;else return H}return-(R+1)}e.binarySearch=S;function b(r,d){let w=0,R=r.length;if(R===0)return 0;for(;w<R;){const N=Math.floor((w+R)/2);d(r[N])?R=N:w=N+1}return w}e.findFirstInSorted=b;function h(r,d,w){if(r=r|0,r>=d.length)throw new TypeError("invalid index");let R=d[Math.floor(d.length*Math.random())],N=[],H=[],$=[];for(let Z of d){const x=w(Z,R);x<0?N.push(Z):x>0?H.push(Z):$.push(Z)}return r<N.length?h(r,N,w):r<N.length+$.length?$[0]:h(r-(N.length+$.length),H,w)}e.quickSelect=h;function l(r,d){const w=[];let R;for(const N of r.slice(0).sort(d))!R||d(R[0],N)!==0?(R=[N],w.push(R)):R.push(N);return w}e.groupBy=l;function k(r,d,w){const R=[];function N(Z,x,ee){if(x===0&&ee.length===0)return;const te=R[R.length-1];te&&te.start+te.deleteCount===Z?(te.deleteCount+=x,te.toInsert.push(...ee)):R.push({start:Z,deleteCount:x,toInsert:ee})}let H=0,$=0;for(;;){if(H===r.length){N(H,0,d.slice($));break}if($===d.length){N(H,r.length-H,[]);break}const Z=r[H],x=d[$],ee=w(Z,x);ee===0?(H+=1,$+=1):ee<0?(N(H,1,[]),H+=1):ee>0&&(N(H,0,[x]),$+=1)}return R}e.sortedDiff=k;function W(r,d,w){const R=k(r,d,w),N=[],H=[];for(const $ of R)N.push(...r.slice($.start,$.start+$.deleteCount)),H.push(...$.toInsert);return{removed:N,added:H}}e.delta=W;function z(r,d,w){if(w===0)return[];const R=r.slice(0,w).sort(d);return f(r,d,R,w,r.length),R}e.top=z;function j(r,d,w,R,N){return w===0?Promise.resolve([]):new Promise((H,$)=>{(async()=>{const Z=r.length,x=r.slice(0,w).sort(d);for(let ee=w,te=Math.min(w+R,Z);ee<Z;ee=te,te=Math.min(te+R,Z)){if(ee>w&&await new Promise(oe=>setTimeout(oe)),N&&N.isCancellationRequested)throw(0,c.canceled)();f(r,d,x,ee,te)}return x})().then(H,$)})}e.topAsync=j;function f(r,d,w,R,N){for(const H=w.length;R<N;R++){const $=r[R];if(d($,w[H-1])<0){w.pop();const Z=b(w,x=>d($,x)<0);w.splice(Z,0,$)}}}function u(r){return r.filter(d=>!!d)}e.coalesce=u;function m(r){let d=0;for(let w=0;w<r.length;w++)r[w]&&(r[d]=r[w],d+=1);r.length=d}e.coalesceInPlace=m;function p(r,d,w){r.splice(w,0,r.splice(d,1)[0])}e.move=p;function C(r){return!Array.isArray(r)||r.length===0}e.isFalsyOrEmpty=C;function _(r){return Array.isArray(r)&&r.length>0}e.isNonEmptyArray=_;function y(r,d=w=>w){const w=new Set;return r.filter(R=>{const N=d(R);return w.has(N)?!1:(w.add(N),!0)})}e.distinct=y;function U(r){const d=Object.create(null);return w=>{const R=r(w);return d[R]?!1:(d[R]=!0,!0)}}e.uniqueFilter=U;function M(r,d){const w=E(r,d);if(w!==-1)return r[w]}e.findLast=M;function E(r,d){for(let w=r.length-1;w>=0;w--){const R=r[w];if(d(R))return w}return-1}e.lastIndex=E;function i(r,d){return r.length>0?r[0]:d}e.firstOrDefault=i;function t(r,d,w=(R,N)=>R===N){let R=0;for(let N=0,H=Math.min(r.length,d.length);N<H&&w(r[N],d[N]);N++)R++;return R}e.commonPrefixLength=t;function n(r){return[].concat(...r)}e.flatten=n;function o(r,d){let w=typeof d=="number"?r:0;typeof d=="number"?w=r:(w=0,d=r);const R=[];if(w<=d)for(let N=w;N<d;N++)R.push(N);else for(let N=w;N>d;N--)R.push(N);return R}e.range=o;function a(r,d,w){return r.reduce((R,N)=>(R[d(N)]=w?w(N):N,R),Object.create(null))}e.index=a;function P(r,d){return r.push(d),()=>D(r,d)}e.insert=P;function D(r,d){const w=r.indexOf(d);if(w>-1)return r.splice(w,1),d}e.remove=D;function F(r,d,w){const R=r.slice(0,d),N=r.slice(d);return R.concat(w,N)}e.arrayInsert=F;function V(r,d){let w;if(typeof d=="number"){let R=d;w=()=>{const N=Math.sin(R++)*179426549;return N-Math.floor(N)}}else w=Math.random;for(let R=r.length-1;R>0;R-=1){const N=Math.floor(w()*(R+1)),H=r[R];r[R]=r[N],r[N]=H}}e.shuffle=V;function Y(r,d){const w=r.indexOf(d);w>-1&&(r.splice(w,1),r.unshift(d))}e.pushToStart=Y;function J(r,d){const w=r.indexOf(d);w>-1&&(r.splice(w,1),r.push(d))}e.pushToEnd=J;function X(r,d){return Array.isArray(r)?r.map(d):d(r)}e.mapArrayOrNot=X;function ne(r){return Array.isArray(r)?r:[r]}e.asArray=ne;function re(r){return r[Math.floor(Math.random()*r.length)]}e.getRandomElement=re;function O(r,d){for(const w of r){const R=d(w);if(R!==void 0)return R}}e.mapFind=O;function B(r,d,w){const R=s(r,d),N=r.length,H=w.length;r.length=N+H;for(let $=N-1;$>=R;$--)r[$+H]=r[$];for(let $=0;$<H;$++)r[$+R]=w[$]}e.insertInto=B;function T(r,d,w,R){const N=s(r,d),H=r.splice(N,w);return B(r,N,R),H}e.splice=T;function s(r,d){return d<0?Math.max(d+r.length,0):Math.min(d,r.length)}function v(r,d){let w=Number.MAX_SAFE_INTEGER,R=0;return r.forEach((N,H)=>{const $=d(N);$<w&&(w=$,R=H)}),R}e.minIndex=v;function I(r,d){let w=Number.MIN_SAFE_INTEGER,R=0;return r.forEach((N,H)=>{const $=d(N);$>w&&(w=$,R=H)}),R}e.maxIndex=I;class q{constructor(d){this.items=d,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(d){let w=this.firstIdx;for(;w<this.items.length&&d(this.items[w]);)w++;const R=w===this.firstIdx?null:this.items.slice(this.firstIdx,w);return this.firstIdx=w,R}takeFromEndWhile(d){let w=this.lastIdx;for(;w>=0&&d(this.items[w]);)w--;const R=w===this.lastIdx?null:this.items.slice(w+1,this.lastIdx+1);return this.lastIdx=w,R}peek(){return this.items[this.firstIdx]}}e.ArrayQueue=q}),define(Q[14],G([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeProcessEnvironment=e.TerminateResponseCode=e.Source=void 0;var c;(function(L){L[L.stdout=0]="stdout",L[L.stderr=1]="stderr"})(c=e.Source||(e.Source={}));var A;(function(L){L[L.Success=0]="Success",L[L.Unknown=1]="Unknown",L[L.AccessDenied=2]="AccessDenied",L[L.ProcessNotFound=3]="ProcessNotFound"})(A=e.TerminateResponseCode||(e.TerminateResponseCode={}));function g(L,...S){const b=S.reduce((k,W)=>(k[W]=!0,k),{}),h=[/^ELECTRON_.+$/,/^VSCODE_.+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/];Object.keys(L).filter(k=>!b[k]).forEach(k=>{for(let W=0;W<h.length;W++)if(k.search(h[W])!==-1){delete L[k];break}})}e.sanitizeProcessEnvironment=g}),define(Q[15],G([0,1,8,9]),function(K,e,c,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedStream=e.prefixedReadable=e.transform=e.toReadable=e.emptyStream=e.toStream=e.peekStream=e.listenStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=void 0;function g(_){const y=_;return y?[y.on,y.pause,y.resume,y.destroy].every(U=>typeof U=="function"):!1}e.isReadableStream=g;function L(_){const y=_;return y?g(y.stream)&&Array.isArray(y.buffer)&&typeof y.ended=="boolean":!1}e.isReadableBufferedStream=L;function S(_,y){return new b(_,y)}e.newWriteableStream=S;class b{constructor(y,U){this.reducer=y,this.options=U,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(y){if(!this.state.destroyed){if(this.state.flowing)this.emitData(y);else if(this.buffer.data.push(y),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(U=>this.pendingWritePromises.push(U))}}error(y){this.state.destroyed||(this.state.flowing?this.emitError(y):this.buffer.error.push(y))}end(y){this.state.destroyed||(typeof y!="undefined"&&this.write(y),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(y){this.listeners.data.slice(0).forEach(U=>U(y))}emitError(y){this.listeners.error.length===0?(0,c.onUnexpectedError)(y):this.listeners.error.slice(0).forEach(U=>U(y))}emitEnd(){this.listeners.end.slice(0).forEach(y=>y())}on(y,U){if(!this.state.destroyed)switch(y){case"data":this.listeners.data.push(U),this.resume();break;case"end":this.listeners.end.push(U),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(U),this.state.flowing&&this.flowErrors();break}}removeListener(y,U){if(this.state.destroyed)return;let M;switch(y){case"data":M=this.listeners.data;break;case"end":M=this.listeners.end;break;case"error":M=this.listeners.error;break}if(M){const E=M.indexOf(U);E>=0&&M.splice(E,1)}}flowData(){if(this.buffer.data.length>0){const y=this.reducer(this.buffer.data);this.emitData(y),this.buffer.data.length=0;const U=[...this.pendingWritePromises];this.pendingWritePromises.length=0,U.forEach(M=>M())}}flowErrors(){if(this.listeners.error.length>0){for(const y of this.buffer.error)this.emitError(y);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function h(_,y){const U=[];let M;for(;(M=_.read())!==null;)U.push(M);return y(U)}e.consumeReadable=h;function l(_,y,U){const M=[];let E;for(;(E=_.read())!==null&&M.length<U;)M.push(E);return E===null&&M.length>0?y(M):{read:()=>{if(M.length>0)return M.shift();if(typeof E!="undefined"){const i=E;return E=void 0,i}return _.read()}}}e.peekReadable=l;function k(_,y){return new Promise((U,M)=>{const E=[];W(_,{onData:i=>{y&&E.push(i)},onError:i=>{y?M(i):U(void 0)},onEnd:()=>{U(y?y(E):void 0)}})})}e.consumeStream=k;function W(_,y){_.on("error",U=>y.onError(U)),_.on("end",()=>y.onEnd()),_.on("data",U=>y.onData(U))}e.listenStream=W;function z(_,y){return new Promise((U,M)=>{const E=new A.DisposableStore,i=[],t=a=>{if(i.push(a),i.length>y)return E.dispose(),_.pause(),U({stream:_,buffer:i,ended:!1})},n=a=>M(a),o=()=>U({stream:_,buffer:i,ended:!0});E.add((0,A.toDisposable)(()=>_.removeListener("error",n))),_.on("error",n),E.add((0,A.toDisposable)(()=>_.removeListener("end",o))),_.on("end",o),E.add((0,A.toDisposable)(()=>_.removeListener("data",t))),_.on("data",t)})}e.peekStream=z;function j(_,y){const U=S(y);return U.end(_),U}e.toStream=j;function f(){const _=S(()=>{throw new Error("not supported")});return _.end(),_}e.emptyStream=f;function u(_){let y=!1;return{read:()=>y?null:(y=!0,_)}}e.toReadable=u;function m(_,y,U){const M=S(U);return W(_,{onData:E=>M.write(y.data(E)),onError:E=>M.error(y.error?y.error(E):E),onEnd:()=>M.end()}),M}e.transform=m;function p(_,y,U){let M=!1;return{read:()=>{const E=y.read();return M?E:(M=!0,E!==null?U([_,E]):_)}}}e.prefixedReadable=p;function C(_,y,U){let M=!1;const E=S(U);return W(y,{onData:i=>M?E.write(i):(M=!0,E.write(U([_,i]))),onError:i=>E.error(i),onEnd:()=>{M||(M=!0,E.write(_)),E.end()}}),E}e.prefixedStream=C}),define(Q[16],G([0,1,15]),function(K,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedBufferStream=e.prefixedBufferReadable=e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const A=typeof Buffer!="undefined";let g,L;class S{constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}static alloc(t){return A?new S(Buffer.allocUnsafe(t)):new S(new Uint8Array(t))}static wrap(t){return A&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new S(t)}static fromString(t,n){return!(n?.dontUseNodeBuffer||!1)&&A?new S(Buffer.from(t)):(g||(g=new TextEncoder),new S(g.encode(t)))}static concat(t,n){if(typeof n=="undefined"){n=0;for(let P=0,D=t.length;P<D;P++)n+=t[P].byteLength}const o=S.alloc(n);let a=0;for(let P=0,D=t.length;P<D;P++){const F=t[P];o.set(F,a),a+=F.byteLength}return o}toString(){return A?this.buffer.toString():(L||(L=new TextDecoder),L.decode(this.buffer))}slice(t,n){return new S(this.buffer.subarray(t,n))}set(t,n){t instanceof S?this.buffer.set(t.buffer,n):this.buffer.set(t,n)}readUInt32BE(t){return l(this.buffer,t)}writeUInt32BE(t,n){k(this.buffer,t,n)}readUInt32LE(t){return W(this.buffer,t)}writeUInt32LE(t,n){z(this.buffer,t,n)}readUInt8(t){return j(this.buffer,t)}writeUInt8(t,n){f(this.buffer,t,n)}}e.VSBuffer=S;function b(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}e.readUInt16LE=b;function h(i,t,n){i[n+0]=t&255,t=t>>>8,i[n+1]=t&255}e.writeUInt16LE=h;function l(i,t){return i[t]*2**24+i[t+1]*2**16+i[t+2]*2**8+i[t+3]}e.readUInt32BE=l;function k(i,t,n){i[n+3]=t,t=t>>>8,i[n+2]=t,t=t>>>8,i[n+1]=t,t=t>>>8,i[n]=t}e.writeUInt32BE=k;function W(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0|i[t+2]<<16>>>0|i[t+3]<<24>>>0}e.readUInt32LE=W;function z(i,t,n){i[n+0]=t&255,t=t>>>8,i[n+1]=t&255,t=t>>>8,i[n+2]=t&255,t=t>>>8,i[n+3]=t&255}e.writeUInt32LE=z;function j(i,t){return i[t]}e.readUInt8=j;function f(i,t,n){i[n]=t}e.writeUInt8=f;function u(i){return c.consumeReadable(i,t=>S.concat(t))}e.readableToBuffer=u;function m(i){return c.toReadable(i)}e.bufferToReadable=m;function p(i){return c.consumeStream(i,t=>S.concat(t))}e.streamToBuffer=p;async function C(i){return i.ended?S.concat(i.buffer):S.concat([...i.buffer,await p(i.stream)])}e.bufferedStreamToBuffer=C;function _(i){return c.toStream(i,t=>S.concat(t))}e.bufferToStream=_;function y(i){return c.transform(i,{data:t=>typeof t=="string"?S.fromString(t):S.wrap(t)},t=>S.concat(t))}e.streamToBufferReadableStream=y;function U(i){return c.newWriteableStream(t=>S.concat(t),i)}e.newWriteableBufferStream=U;function M(i,t){return c.prefixedReadable(i,t,n=>S.concat(n))}e.prefixedBufferReadable=M;function E(i,t){return c.prefixedStream(i,t,n=>S.concat(n))}e.prefixedBufferStream=E});var se=this&&this.__classPrivateFieldSet||function(K,e,c,A,g){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?K!==e||!g:!e.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?g.call(K,c):g?g.value=c:e.set(K,c),c},ie=this&&this.__classPrivateFieldGet||function(K,e,c,A){if(c==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?K!==e||!A:!e.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?A:c==="a"?A.call(K):A?A.value:e.get(K)};define(Q[17],G([0,1,7,10]),function(K,e,c,A){"use strict";var g,L,S;Object.defineProperty(e,"__esModule",{value:!0}),e.ReadonlyMapView=e.LRUCache=e.LinkedMap=e.Touch=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=e.setToString=e.mapToString=e.getOrSet=void 0;function b(i,t,n){let o=i.get(t);return o===void 0&&(o=n,i.set(t,o)),o}e.getOrSet=b;function h(i){const t=[];return i.forEach((n,o)=>{t.push(`${o} => ${n}`)}),`Map(${i.size}) {${t.join(", ")}}`}e.mapToString=h;function l(i){const t=[];return i.forEach(n=>{t.push(n)}),`Set(${i.size}) {${t.join(", ")}}`}e.setToString=l;class k{constructor(){this._value="",this._pos=0}reset(t){return this._value=t,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(t){const n=t.charCodeAt(0),o=this._value.charCodeAt(this._pos);return n-o}value(){return this._value[this._pos]}}e.StringIterator=k;class W{constructor(t=!0){this._caseSensitive=t}reset(t){return this._value=t,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(t)this._from++;else break;else t=!1;return this}cmp(t){return this._caseSensitive?(0,A.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,A.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=W;class z{constructor(t=!0,n=!0){this._splitOnBackslash=t,this._caseSensitive=n}reset(t){return this._value=t.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(t)this._from++;else break;else t=!1}return this}cmp(t){return this._caseSensitive?(0,A.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,A.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=z;var j;(function(i){i[i.Scheme=1]="Scheme",i[i.Authority=2]="Authority",i[i.Path=3]="Path",i[i.Query=4]="Query",i[i.Fragment=5]="Fragment"})(j||(j={}));class f{constructor(t){this._ignorePathCasing=t,this._states=[],this._stateIdx=0}reset(t){return this._value=t,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new z(!1,!this._ignorePathCasing(t)),this._pathIterator.reset(t.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(t){if(this._states[this._stateIdx]===1)return(0,A.compareIgnoreCase)(t,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,A.compareIgnoreCase)(t,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(t);if(this._states[this._stateIdx]===4)return(0,A.compare)(t,this._value.query);if(this._states[this._stateIdx]===5)return(0,A.compare)(t,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=f;class u{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const t=this.right;return this.right=t.left,t.left=this,this.updateHeight(),t.updateHeight(),t}rotateRight(){const t=this.left;return this.left=t.right,t.right=this,this.updateHeight(),t.updateHeight(),t}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var m;(function(i){i[i.Left=-1]="Left",i[i.Mid=0]="Mid",i[i.Right=1]="Right"})(m||(m={}));class p{constructor(t){this._iter=t}static forUris(t=()=>!1){return new p(new f(t))}static forPaths(){return new p(new z)}static forStrings(){return new p(new k)}static forConfigKeys(){return new p(new W)}clear(){this._root=void 0}fill(t,n){if(n){const o=n.slice(0);(0,c.shuffle)(o);for(let a of o)this.set(a,t)}else{const o=t.slice(0);(0,c.shuffle)(o);for(let a of o)this.set(a[0],a[1])}}set(t,n){const o=this._iter.reset(t);let a;this._root||(this._root=new u,this._root.segment=o.value());const P=[];for(a=this._root;;){const F=o.cmp(a.segment);if(F>0)a.left||(a.left=new u,a.left.segment=o.value()),P.push([-1,a]),a=a.left;else if(F<0)a.right||(a.right=new u,a.right.segment=o.value()),P.push([1,a]),a=a.right;else if(o.hasNext())o.next(),a.mid||(a.mid=new u,a.mid.segment=o.value()),P.push([0,a]),a=a.mid;else break}const D=a.value;a.value=n,a.key=t;for(let F=P.length-1;F>=0;F--){const V=P[F][1];V.updateHeight();const Y=V.balanceFactor();if(Y<-1||Y>1){const J=P[F][0],X=P[F+1][0];if(J===1&&X===1)P[F][1]=V.rotateLeft();else if(J===-1&&X===-1)P[F][1]=V.rotateRight();else if(J===1&&X===-1)V.right=P[F+1][1]=P[F+1][1].rotateRight(),P[F][1]=V.rotateLeft();else if(J===-1&&X===1)V.left=P[F+1][1]=P[F+1][1].rotateLeft(),P[F][1]=V.rotateRight();else throw new Error;if(F>0)switch(P[F-1][0]){case-1:P[F-1][1].left=P[F][1];break;case 1:P[F-1][1].right=P[F][1];break;case 0:P[F-1][1].mid=P[F][1];break}else this._root=P[0][1]}}return D}get(t){return this._getNode(t)?.value}_getNode(t){const n=this._iter.reset(t);let o=this._root;for(;o;){const a=n.cmp(o.segment);if(a>0)o=o.left;else if(a<0)o=o.right;else if(n.hasNext())n.next(),o=o.mid;else break}return o}has(t){const n=this._getNode(t);return!(n?.value===void 0&&n?.mid===void 0)}delete(t){return this._delete(t,!1)}deleteSuperstr(t){return this._delete(t,!0)}_delete(t,n){const o=this._iter.reset(t),a=[];let P=this._root;for(;P;){const D=o.cmp(P.segment);if(D>0)a.push([-1,P]),P=P.left;else if(D<0)a.push([1,P]),P=P.right;else if(o.hasNext())o.next(),a.push([0,P]),P=P.mid;else break}if(!!P){if(n?(P.left=void 0,P.mid=void 0,P.right=void 0,P.height=1):(P.key=void 0,P.value=void 0),!P.mid&&!P.value)if(P.left&&P.right){const D=this._min(P.right),{key:F,value:V,segment:Y}=D;this._delete(D.key,!1),P.key=F,P.value=V,P.segment=Y}else{const D=P.left??P.right;if(a.length>0){const[F,V]=a[a.length-1];switch(F){case-1:V.left=D;break;case 0:V.mid=D;break;case 1:V.right=D;break}}else this._root=D}for(let D=a.length-1;D>=0;D--){const F=a[D][1];F.updateHeight();const V=F.balanceFactor();if(V>1?(F.right.balanceFactor()>=0||(F.right=a[D+1][1]=a[D+1][1].rotateRight()),a[D][1]=F.rotateLeft()):V<-1&&(F.left.balanceFactor()<=0||(F.left=a[D+1][1]=a[D+1][1].rotateLeft()),a[D][1]=F.rotateRight()),D>0)switch(a[D-1][0]){case-1:a[D-1][1].left=a[D][1];break;case 1:a[D-1][1].right=a[D][1];break;case 0:a[D-1][1].mid=a[D][1];break}else this._root=a[0][1]}}}_min(t){for(;t.left;)t=t.left;return t}findSubstr(t){const n=this._iter.reset(t);let o=this._root,a;for(;o;){const P=n.cmp(o.segment);if(P>0)o=o.left;else if(P<0)o=o.right;else if(n.hasNext())n.next(),a=o.value||a,o=o.mid;else break}return o&&o.value||a}findSuperstr(t){const n=this._iter.reset(t);let o=this._root;for(;o;){const a=n.cmp(o.segment);if(a>0)o=o.left;else if(a<0)o=o.right;else if(n.hasNext())n.next(),o=o.mid;else return o.mid?this._entries(o.mid):void 0}}forEach(t){for(const[n,o]of this)t(o,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(t){!t||(t.left&&(yield*this._entries(t.left)),t.value&&(yield[t.key,t.value]),t.mid&&(yield*this._entries(t.mid)),t.right&&(yield*this._entries(t.right)))}_isBalanced(){const t=n=>{if(!n)return!0;const o=n.balanceFactor();return o<-1||o>1?!1:t(n.left)&&t(n.right)};return t(this._root)}}e.TernarySearchTree=p;class C{constructor(t,n){this.uri=t,this.value=n}}class _{constructor(t,n){this[g]="ResourceMap",t instanceof _?(this.map=new Map(t.map),this.toKey=n??_.defaultToKey):(this.map=new Map,this.toKey=t??_.defaultToKey)}set(t,n){return this.map.set(this.toKey(t),new C(t,n)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,n){typeof n!="undefined"&&(t=t.bind(n));for(let[o,a]of this.map)t(a.value,a.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(g=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}}e.ResourceMap=_,_.defaultToKey=i=>i.toString();var y;(function(i){i[i.None=0]="None",i[i.AsOld=1]="AsOld",i[i.AsNew=2]="AsNew"})(y=e.Touch||(e.Touch={}));class U{constructor(){this[L]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,n=0){const o=this._map.get(t);if(!!o)return n!==0&&this.touch(o,n),o.value}set(t,n,o=0){let a=this._map.get(t);if(a)a.value=n,o!==0&&this.touch(a,o);else{switch(a={key:t,value:n,next:void 0,previous:void 0},o){case 0:this.addItemLast(a);break;case 1:this.addItemFirst(a);break;case 2:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(t,a),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const n=this._map.get(t);if(!!n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){const o=this._state;let a=this._head;for(;a;){if(n?t.bind(n)(a.value,a.key,this):t(a.value,a.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){const t=this,n=this._state;let o=this._head;const a={[Symbol.iterator](){return a},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const P={value:o.key,done:!1};return o=o.next,P}else return{value:void 0,done:!0}}};return a}values(){const t=this,n=this._state;let o=this._head;const a={[Symbol.iterator](){return a},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const P={value:o.value,done:!1};return o=o.next,P}else return{value:void 0,done:!0}}};return a}entries(){const t=this,n=this._state;let o=this._head;const a={[Symbol.iterator](){return a},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const P={value:[o.key,o.value],done:!1};return o=o.next,P}else return{value:void 0,done:!0}}};return a}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,o=this.size;for(;n&&o>t;)this._map.delete(n.key),n=n.next,o--;this._head=n,this._size=o,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const n=t.next,o=t.previous;if(!n||!o)throw new Error("Invalid list");n.previous=o,o.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(t===this._head)return;const o=t.next,a=t.previous;t===this._tail?(a.next=void 0,this._tail=a):(o.previous=a,a.next=o),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===2){if(t===this._tail)return;const o=t.next,a=t.previous;t===this._head?(o.previous=void 0,this._head=o):(o.previous=a,a.next=o),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((n,o)=>{t.push([o,n])}),t}fromJSON(t){this.clear();for(const[n,o]of t)this.set(n,o)}}e.LinkedMap=U;class M extends U{constructor(t,n=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=2){return super.get(t,n)}peek(t){return super.get(t,0)}set(t,n){return super.set(t,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=M;class E{constructor(t){S.set(this,void 0),se(this,S,t,"f")}get size(){return ie(this,S,"f").size}forEach(t,n){ie(this,S,"f").forEach(t,n)}get(t){return ie(this,S,"f").get(t)}has(t){return ie(this,S,"f").has(t)}entries(){return ie(this,S,"f").entries()}keys(){return ie(this,S,"f").keys()}values(){return ie(this,S,"f").values()}[(S=new WeakMap,Symbol.iterator)](){return ie(this,S,"f").entries()}}e.ReadonlyMapView=E}),define(Q[18],G([0,1,17]),function(K,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeAccents=e.normalizeNFD=e.normalizeNFC=void 0;const A=new c.LRUCache(1e4);function g(l){return h(l,"NFC",A)}e.normalizeNFC=g;const L=new c.LRUCache(1e4);function S(l){return h(l,"NFD",L)}e.normalizeNFD=S;const b=/[^\u0000-\u0080]/;function h(l,k,W){if(!l)return l;const z=W.get(l);if(z)return z;let j;return b.test(l)?j=l.normalize(k):j=l,W.set(l,j),j}e.removeAccents=function(){const l=/[\u0300-\u036f]/g;return function(k){return S(k).replace(l,"")}}()}),define(Q[3],G([0,1,4,2,10,5]),function(K,e,c,A,g,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function S(i){return i===47||i===92}e.isPathSeparator=S;function b(i){return i.replace(/[\\/]/g,c.posix.sep)}e.toSlashes=b;function h(i){return i.indexOf("/")===-1&&(i=b(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=h;function l(i,t=c.posix.sep){if(!i)return"";const n=i.length,o=i.charCodeAt(0);if(S(o)){if(S(i.charCodeAt(1))&&!S(i.charCodeAt(2))){let P=3;const D=P;for(;P<n&&!S(i.charCodeAt(P));P++);if(D!==P&&!S(i.charCodeAt(P+1))){for(P+=1;P<n;P++)if(S(i.charCodeAt(P)))return i.slice(0,P+1).replace(/[\\/]/g,t)}}return t}else if(p(o)&&i.charCodeAt(1)===58)return S(i.charCodeAt(2))?i.slice(0,2)+t:i.slice(0,2);let a=i.indexOf("://");if(a!==-1){for(a+=3;a<n;a++)if(S(i.charCodeAt(a)))return i.slice(0,a+1)}return""}e.getRoot=l;function k(i){if(!A.isWindows||!i||i.length<5)return!1;let t=i.charCodeAt(0);if(t!==92||(t=i.charCodeAt(1),t!==92))return!1;let n=2;const o=n;for(;n<i.length&&(t=i.charCodeAt(n),t!==92);n++);return!(o===n||(t=i.charCodeAt(n+1),isNaN(t)||t===92))}e.isUNC=k;const W=/[\\/:\*\?"<>\|]/g,z=/[\\/]/g,j=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function f(i,t=A.isWindows){const n=t?W:z;return!(!i||i.length===0||/^\s+$/.test(i)||(n.lastIndex=0,n.test(i))||t&&j.test(i)||i==="."||i===".."||t&&i[i.length-1]==="."||t&&i.length!==i.trim().length||i.length>255)}e.isValidBasename=f;function u(i,t,n){const o=i===t;return!n||o?o:!i||!t?!1:(0,g.equalsIgnoreCase)(i,t)}e.isEqual=u;function m(i,t,n,o=c.sep){if(i===t)return!0;if(!i||!t||t.length>i.length)return!1;if(n){if(!(0,g.startsWithIgnoreCase)(i,t))return!1;if(t.length===i.length)return!0;let P=t.length;return t.charAt(t.length-1)===o&&P--,i.charAt(P)===o}return t.charAt(t.length-1)!==o&&(t+=o),i.indexOf(t)===0}e.isEqualOrParent=m;function p(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=p;function C(i,t){return A.isWindows&&i.endsWith(":")&&(i+=c.sep),(0,c.isAbsolute)(i)||(i=(0,c.join)(t,i)),i=(0,c.normalize)(i),A.isWindows?(i=(0,g.rtrim)(i,c.sep),i.endsWith(":")&&(i+=c.sep)):(i=(0,g.rtrim)(i,c.sep),i||(i=c.sep)),i}e.sanitizeFilePath=C;function _(i){const t=(0,c.normalize)(i);return A.isWindows?i.length>3?!1:y(t)&&(i.length===2||t.charCodeAt(2)===92):t===c.posix.sep}e.isRootOrDriveLetter=_;function y(i){return A.isWindows?p(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=y;function U(i){return y(i)?i[0]:void 0}e.getDriveLetter=U;function M(i,t,n){return t.length>i.length?-1:i===t?0:(n&&(i=i.toLowerCase(),t=t.toLowerCase()),i.indexOf(t))}e.indexOfPath=M;function E(i){const t=i.split(":");let n,o,a;if(t.forEach(P=>{const D=Number(P);(0,L.isNumber)(D)?o===void 0?o=D:a===void 0&&(a=D):n=n?[n,P].join(":"):P}),!n)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:n,line:o!==void 0?o:void 0,column:a!==void 0?a:o!==void 0?1:void 0}}e.parseLineAndColumnAware=E}),define(Q[11],G([0,1,5]),function(K,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.getCaseInsensitive=e.distinct=e.getOrDefault=e.safeStringify=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function A(u){if(!u||typeof u!="object"||u instanceof RegExp)return u;const m=Array.isArray(u)?[]:{};return Object.keys(u).forEach(p=>{u[p]&&typeof u[p]=="object"?m[p]=A(u[p]):m[p]=u[p]}),m}e.deepClone=A;function g(u){if(!u||typeof u!="object")return u;const m=[u];for(;m.length>0;){const p=m.shift();Object.freeze(p);for(const C in p)if(L.call(p,C)){const _=p[C];typeof _=="object"&&!Object.isFrozen(_)&&m.push(_)}}return u}e.deepFreeze=g;const L=Object.prototype.hasOwnProperty;function S(u,m){return b(u,m,new Set)}e.cloneAndChange=S;function b(u,m,p){if((0,c.isUndefinedOrNull)(u))return u;const C=m(u);if(typeof C!="undefined")return C;if((0,c.isArray)(u)){const _=[];for(const y of u)_.push(b(y,m,p));return _}if((0,c.isObject)(u)){if(p.has(u))throw new Error("Cannot clone recursive data-structure");p.add(u);const _={};for(let y in u)L.call(u,y)&&(_[y]=b(u[y],m,p));return p.delete(u),_}return u}function h(u,m,p=!0){return(0,c.isObject)(u)?((0,c.isObject)(m)&&Object.keys(m).forEach(C=>{C in u?p&&((0,c.isObject)(u[C])&&(0,c.isObject)(m[C])?h(u[C],m[C],p):u[C]=m[C]):u[C]=m[C]}),u):m}e.mixin=h;function l(u,m){if(u===m)return!0;if(u==null||m===null||m===void 0||typeof u!=typeof m||typeof u!="object"||Array.isArray(u)!==Array.isArray(m))return!1;let p,C;if(Array.isArray(u)){if(u.length!==m.length)return!1;for(p=0;p<u.length;p++)if(!l(u[p],m[p]))return!1}else{const _=[];for(C in u)_.push(C);_.sort();const y=[];for(C in m)y.push(C);if(y.sort(),!l(_,y))return!1;for(p=0;p<_.length;p++)if(!l(u[_[p]],m[_[p]]))return!1}return!0}e.equals=l;function k(u){const m=new Set;return JSON.stringify(u,(p,C)=>{if((0,c.isObject)(C)||Array.isArray(C)){if(m.has(C))return"[Circular]";m.add(C)}return C})}e.safeStringify=k;function W(u,m,p){const C=m(u);return typeof C=="undefined"?p:C}e.getOrDefault=W;function z(u,m){const p=Object.create(null);return!u||!m||Object.keys(m).forEach(_=>{const y=u[_],U=m[_];l(y,U)||(p[_]=U)}),p}e.distinct=z;function j(u,m){const p=m.toLowerCase(),C=Object.keys(u).find(_=>_.toLowerCase()===p);return C?u[C]:u[m]}e.getCaseInsensitive=j;function f(u,m){const p=Object.create(null);for(const C of Object.keys(u))m(C,u[C])&&(p[C]=u[C]);return p}e.filter=f}),define(Q[19],G([0,1,6]),function(K,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.getFirstFrame=e.parse=e.isRemoteConsoleLog=void 0;function A(l){const k=l;return k&&typeof k.type=="string"&&typeof k.severity=="string"}e.isRemoteConsoleLog=A;function g(l){const k=[];let W;try{const z=JSON.parse(l.arguments),j=z[z.length-1];j&&j.__$stack&&(z.pop(),W=j.__$stack),k.push(...z)}catch(z){k.push("Unable to log remote console arguments",l.arguments)}return{args:k,stack:W}}e.parse=g;function L(l){if(typeof l!="string")return L(g(l).stack);const k=l;if(k){const W=S(k),z=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(W||"");if(z&&z.length===4)return{uri:c.URI.file(z[1]),line:Number(z[2]),column:Number(z[3])}}}e.getFirstFrame=L;function S(l){if(!l)return l;const k=l.indexOf(`
`);return k===-1?l:l.substring(0,k)}function b(l,k){const{args:W,stack:z}=g(l),j=typeof W[0]=="string"&&W.length===1;let f=S(z);f&&(f=`(${f.trim()})`);let u=[];if(typeof W[0]=="string"?f&&j?u=[`%c[${k}] %c${W[0]} %c${f}`,h("blue"),h(""),h("grey")]:u=[`%c[${k}] %c${W[0]}`,h("blue"),h(""),...W.slice(1)]:u=[`%c[${k}]%`,h("blue"),...W],f&&!j&&u.push(f),typeof console[l.severity]!="function")throw new Error("Unknown console method");console[l.severity].apply(console,u)}e.log=b;function h(l){return`color: ${l}`}}),define(Q[12],G([0,1,2,6]),function(K,e,c,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var g;(function(b){b.inMemory="inmemory",b.vscode="vscode",b.internal="private",b.walkThrough="walkThrough",b.walkThroughSnippet="walkThroughSnippet",b.http="http",b.https="https",b.file="file",b.mailto="mailto",b.untitled="untitled",b.data="data",b.command="command",b.vscodeRemote="vscode-remote",b.vscodeRemoteResource="vscode-remote-resource",b.userData="vscode-userdata",b.vscodeCustomEditor="vscode-custom-editor",b.vscodeNotebook="vscode-notebook",b.vscodeNotebookCell="vscode-notebook-cell",b.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",b.vscodeNotebookCellOutput="vscode-notebook-cell-output",b.vscodeInteractive="vscode-interactive",b.vscodeInteractiveInput="vscode-interactive-input",b.vscodeSettings="vscode-settings",b.vscodeWorkspaceTrust="vscode-workspace-trust",b.vscodeTerminal="vscode-terminal",b.webviewPanel="webview-panel",b.vscodeWebview="vscode-webview",b.extension="extension",b.vscodeFileResource="vscode-file",b.tmp="tmp"})(g=e.Schemas||(e.Schemas={}));class L{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(h){this._preferredWebSchema=h}setDelegate(h){this._delegate=h}set(h,l,k){this._hosts[h]=l,this._ports[h]=k}setConnectionToken(h,l){this._connectionTokens[h]=l}rewrite(h){if(this._delegate)return this._delegate(h);const l=h.authority;let k=this._hosts[l];k&&k.indexOf(":")!==-1&&(k=`[${k}]`);const W=this._ports[l],z=this._connectionTokens[l];let j=`path=${encodeURIComponent(h.path)}`;return typeof z=="string"&&(j+=`&tkn=${encodeURIComponent(z)}`),A.URI.from({scheme:c.isWeb?this._preferredWebSchema:g.vscodeRemoteResource,authority:`${k}:${W}`,path:"/vscode-remote-resource",query:j})}}e.RemoteAuthorities=new L;class S{asBrowserUri(h,l){const k=this.toUri(h,l);return k.scheme===g.vscodeRemote?e.RemoteAuthorities.rewrite(k):k.scheme===g.file&&(c.isNative||typeof c.globals.importScripts=="function"&&c.globals.origin===`${g.vscodeFileResource}://${S.FALLBACK_AUTHORITY}`)?k.with({scheme:g.vscodeFileResource,authority:k.authority||S.FALLBACK_AUTHORITY,query:null,fragment:null}):k}asFileUri(h,l){const k=this.toUri(h,l);return k.scheme===g.vscodeFileResource?k.with({scheme:g.file,authority:k.authority!==S.FALLBACK_AUTHORITY?k.authority:null,query:null,fragment:null}):k}toUri(h,l){return A.URI.isUri(h)?h:A.URI.parse(l.toUrl(h))}}S.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new S}),define(Q[13],G([0,1,3,12,4,2,10,6]),function(K,e,c,A,g,L,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function h(j){return(0,b.uriToFsPath)(j,!0)}e.originalFSPath=h;class l{constructor(f){this._ignorePathCasing=f}compare(f,u,m=!1){return f===u?0:(0,S.compare)(this.getComparisonKey(f,m),this.getComparisonKey(u,m))}isEqual(f,u,m=!1){return f===u?!0:!f||!u?!1:this.getComparisonKey(f,m)===this.getComparisonKey(u,m)}getComparisonKey(f,u=!1){return f.with({path:this._ignorePathCasing(f)?f.path.toLowerCase():void 0,fragment:u?null:void 0}).toString()}ignorePathCasing(f){return this._ignorePathCasing(f)}isEqualOrParent(f,u,m=!1){if(f.scheme===u.scheme){if(f.scheme===A.Schemas.file)return c.isEqualOrParent(h(f),h(u),this._ignorePathCasing(f))&&f.query===u.query&&(m||f.fragment===u.fragment);if((0,e.isEqualAuthority)(f.authority,u.authority))return c.isEqualOrParent(f.path,u.path,this._ignorePathCasing(f),"/")&&f.query===u.query&&(m||f.fragment===u.fragment)}return!1}joinPath(f,...u){return b.URI.joinPath(f,...u)}basenameOrAuthority(f){return(0,e.basename)(f)||f.authority}basename(f){return g.posix.basename(f.path)}extname(f){return g.posix.extname(f.path)}dirname(f){if(f.path.length===0)return f;let u;return f.scheme===A.Schemas.file?u=b.URI.file(g.dirname(h(f))).path:(u=g.posix.dirname(f.path),f.authority&&u.length&&u.charCodeAt(0)!==47&&(console.error(`dirname("${f.toString})) resulted in a relative path`),u="/")),f.with({path:u})}normalizePath(f){if(!f.path.length)return f;let u;return f.scheme===A.Schemas.file?u=b.URI.file(g.normalize(h(f))).path:u=g.posix.normalize(f.path),f.with({path:u})}relativePath(f,u){if(f.scheme!==u.scheme||!(0,e.isEqualAuthority)(f.authority,u.authority))return;if(f.scheme===A.Schemas.file){const C=g.relative(h(f),h(u));return L.isWindows?c.toSlashes(C):C}let m=f.path||"/",p=u.path||"/";if(this._ignorePathCasing(f)){let C=0;for(const _=Math.min(m.length,p.length);C<_&&!(m.charCodeAt(C)!==p.charCodeAt(C)&&m.charAt(C).toLowerCase()!==p.charAt(C).toLowerCase());C++);m=p.substr(0,C)+m.substr(C)}return g.posix.relative(m,p)}resolvePath(f,u){if(f.scheme===A.Schemas.file){const m=b.URI.file(g.resolve(h(f),u));return f.with({authority:m.authority,path:m.path})}return u=c.toPosixPath(u),f.with({path:g.posix.resolve(f.path,u)})}isAbsolutePath(f){return!!f.path&&f.path[0]==="/"}isEqualAuthority(f,u){return f===u||(0,S.equalsIgnoreCase)(f,u)}hasTrailingPathSeparator(f,u=g.sep){if(f.scheme===A.Schemas.file){const m=h(f);return m.length>c.getRoot(m).length&&m[m.length-1]===u}else{const m=f.path;return m.length>1&&m.charCodeAt(m.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(f.fsPath)}}removeTrailingPathSeparator(f,u=g.sep){return(0,e.hasTrailingPathSeparator)(f,u)?f.with({path:f.path.substr(0,f.path.length-1)}):f}addTrailingPathSeparator(f,u=g.sep){let m=!1;if(f.scheme===A.Schemas.file){const p=h(f);m=p!==void 0&&p.length===c.getRoot(p).length&&p[p.length-1]===u}else{u="/";const p=f.path;m=p.length===1&&p.charCodeAt(p.length-1)===47}return!m&&!(0,e.hasTrailingPathSeparator)(f,u)?f.with({path:f.path+"/"}):f}}e.ExtUri=l,e.extUri=new l(()=>!1),e.extUriBiasedIgnorePathCase=new l(j=>j.scheme===A.Schemas.file?!L.isLinux:!0),e.extUriIgnorePathCase=new l(j=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function k(j,f){const u=[];for(let m=0;m<j.length;m++){const p=f(j[m]);j.some((C,_)=>_===m?!1:(0,e.isEqualOrParent)(p,f(C)))||u.push(j[m])}return u}e.distinctParents=k;var W;(function(j){j.META_DATA_LABEL="label",j.META_DATA_DESCRIPTION="description",j.META_DATA_SIZE="size",j.META_DATA_MIME="mime";function f(u){const m=new Map;u.path.substring(u.path.indexOf(";")+1,u.path.lastIndexOf(";")).split(";").forEach(_=>{const[y,U]=_.split(":");y&&U&&m.set(y,U)});const C=u.path.substring(0,u.path.indexOf(";"));return C&&m.set(j.META_DATA_MIME,C),m}j.parseMetaData=f})(W=e.DataUri||(e.DataUri={}));function z(j,f,u){if(f){let m=j.path;return m&&m[0]!==g.posix.sep&&(m=g.posix.sep+m),j.with({scheme:u,authority:f,path:m})}return j.with({scheme:u})}e.toLocalResource=z}),define(Q[20],G([0,1,35,8,21,9,13]),function(K,e,c,A,g,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.ProcessTimeRunOnceScheduler=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(T){return!!T&&typeof T.then=="function"}e.isThenable=b;function h(T){const s=new c.CancellationTokenSource,v=T(s.token),I=new Promise((q,r)=>{const d=s.token.onCancellationRequested(()=>{d.dispose(),s.dispose(),r((0,A.canceled)())});Promise.resolve(v).then(w=>{d.dispose(),s.dispose(),q(w)},w=>{d.dispose(),s.dispose(),r(w)})});return new class{cancel(){s.cancel()}then(q,r){return I.then(q,r)}catch(q){return this.then(void 0,q)}finally(q){return I.finally(q)}}}e.createCancelablePromise=h;function l(T,s,v){return Promise.race([T,new Promise(I=>s.onCancellationRequested(()=>I(v)))])}e.raceCancellation=l;async function k(T){let s=-1;const v=T.map((q,r)=>q.then(d=>(s=r,d))),I=await Promise.race(v);return T.forEach((q,r)=>{r!==s&&q.cancel()}),I}e.raceCancellablePromises=k;function W(T,s,v){let I;const q=setTimeout(()=>{I?.(void 0),v?.()},s);return Promise.race([T.finally(()=>clearTimeout(q)),new Promise(r=>I=r)])}e.raceTimeout=W;function z(T){return new Promise((s,v)=>{const I=T();b(I)?I.then(s,v):s(I)})}e.asPromise=z;class j{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(s){if(this.activePromise){if(this.queuedPromiseFactory=s,!this.queuedPromise){const v=()=>{this.queuedPromise=null;const I=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,I};this.queuedPromise=new Promise(I=>{this.activePromise.then(v,v).then(I)})}return new Promise((v,I)=>{this.queuedPromise.then(v,I)})}return this.activePromise=s(),new Promise((v,I)=>{this.activePromise.then(q=>{this.activePromise=null,v(q)},q=>{this.activePromise=null,I(q)})})}}e.Throttler=j;class f{constructor(){this.current=Promise.resolve(null)}queue(s){return this.current=this.current.then(()=>s(),()=>s())}}e.Sequencer=f;class u{constructor(){this.promiseMap=new Map}queue(s,v){const q=(this.promiseMap.get(s)??Promise.resolve()).catch(()=>{}).then(v).finally(()=>{this.promiseMap.get(s)===q&&this.promiseMap.delete(s)});return this.promiseMap.set(s,q),q}}e.SequencerByKey=u;class m{constructor(s){this.defaultDelay=s,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(s,v=this.defaultDelay){return this.task=s,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((I,q)=>{this.doResolve=I,this.doReject=q}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const I=this.task;return this.task=null,I()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},v),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,A.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=m;class p{constructor(s){this.delayer=new m(s),this.throttler=new j}trigger(s,v){return this.delayer.trigger(()=>this.throttler.queue(s),v)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=p;class C{constructor(){this._isOpen=!1,this._promise=new Promise((s,v)=>{this._completePromise=s})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=C;class _ extends C{constructor(s){super();this._timeout=setTimeout(()=>this.open(),s)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=_;function y(T,s){return s?new Promise((v,I)=>{const q=setTimeout(()=>{r.dispose(),v()},T),r=s.onCancellationRequested(()=>{clearTimeout(q),r.dispose(),I((0,A.canceled)())})}):h(v=>y(T,v))}e.timeout=y;function U(T,s=0){const v=setTimeout(T,s);return(0,L.toDisposable)(()=>clearTimeout(v))}e.disposableTimeout=U;function M(T){const s=[];let v=0;const I=T.length;function q(){return v<I?T[v++]():null}function r(d){d!=null&&s.push(d);const w=q();return w?w.then(r):Promise.resolve(s)}return Promise.resolve(null).then(r)}e.sequence=M;function E(T,s=I=>!!I,v=null){let I=0;const q=T.length,r=()=>{if(I>=q)return Promise.resolve(v);const d=T[I++];return Promise.resolve(d()).then(R=>s(R)?Promise.resolve(R):r())};return r()}e.first=E;function i(T,s=I=>!!I,v=null){if(T.length===0)return Promise.resolve(v);let I=T.length;const q=()=>{I=-1;for(const r of T)r.cancel?.()};return new Promise((r,d)=>{for(const w of T)w.then(R=>{--I>=0&&s(R)?(q(),r(R)):I===0&&r(v)}).catch(R=>{--I>=0&&(q(),d(R))})})}e.firstParallel=i;class t{constructor(s){this._size=0,this.maxDegreeOfParalellism=s,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new g.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(s){return this._size++,new Promise((v,I)=>{this.outstandingPromises.push({factory:s,c:v,e:I}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const s=this.outstandingPromises.shift();this.runningPromises++;const v=s.factory();v.then(s.c,s.e),v.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=t;class n extends t{constructor(){super(1)}}e.Queue=n;class o{constructor(){this.queues=new Map}queueFor(s,v=S.extUri){const I=v.getComparisonKey(s);let q=this.queues.get(I);return q||(q=new n,g.Event.once(q.onFinished)(()=>{q?.dispose(),this.queues.delete(I)}),this.queues.set(I,q)),q}dispose(){this.queues.forEach(s=>s.dispose()),this.queues.clear()}}e.ResourceQueue=o;class a{constructor(s,v){this._token=-1,typeof s=="function"&&typeof v=="number"&&this.setIfNotSet(s,v)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(s,v){this.cancel(),this._token=setTimeout(()=>{this._token=-1,s()},v)}setIfNotSet(s,v){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,s()},v))}}e.TimeoutTimer=a;class P{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(s,v){this.cancel(),this._token=setInterval(()=>{s()},v)}}e.IntervalTimer=P;class D{constructor(s,v){this.timeoutToken=-1,this.runner=s,this.timeout=v,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(s=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,s)}get delay(){return this.timeout}set delay(s){this.timeout=s}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=D;class F{constructor(s,v){v%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${v}ms is not a multiple of 1000ms.`),this.runner=s,this.timeout=v,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(s=this.timeout){s%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${s}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(s/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner&&this.runner())}}e.ProcessTimeRunOnceScheduler=F;class V extends D{constructor(s,v){super(s,v);this.units=[]}work(s){this.units.push(s),this.isScheduled()||this.schedule()}doRun(){const s=this.units;this.units=[],this.runner&&this.runner(s)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=V;class Y extends L.Disposable{constructor(s,v,I,q){super();this.maxWorkChunkSize=s,this.maxPendingWork=v,this.throttleDelay=I,this.handler=q,this.pendingWork=[],this.throttler=this._register(new L.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(s){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+s.length>this.maxPendingWork)return!1}else if(this.pending+s.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...s),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new D(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=Y,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=T=>{const s=setTimeout(()=>{const I=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,I-Date.now())}}))});let v=!1;return{dispose(){v||(v=!0,clearTimeout(s))}}}:e.runWhenIdle=(T,s)=>{const v=requestIdleCallback(T,typeof s=="number"?{timeout:s}:void 0);let I=!1;return{dispose(){I||(I=!0,cancelIdleCallback(v))}}}}();class J{constructor(s){this._didRun=!1,this._executor=()=>{try{this._value=s()}catch(v){this._error=v}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=J;async function X(T,s,v){let I;for(let q=0;q<v;q++)try{return await T()}catch(r){I=r,await y(s)}throw I}e.retry=X;class ne{hasPending(s){return this._pending?typeof s=="number"?this._pending.taskId===s:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(s,v,I){return this._pending={taskId:s,cancel:()=>I?.(),promise:v},v.then(()=>this.donePending(s),()=>this.donePending(s)),v}donePending(s){this._pending&&s===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const s=this._next;this._next=void 0,s.run().then(s.promiseResolve,s.promiseReject)}}setNext(s){if(this._next)this._next.run=s;else{let v,I;const q=new Promise((r,d)=>{v=r,I=d});this._next={run:s,promise:q,promiseResolve:v,promiseReject:I}}return this._next.promise}}e.TaskSequentializer=ne;class re{constructor(s){this.interval=s,this.lastIncrementTime=0,this.value=0}increment(){const s=Date.now();return s-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=s,this.value=0),this.value++,this.value}}e.IntervalCounter=re;class O{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((s,v)=>{this.completeCallback=s,this.errorCallback=v})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(s){return new Promise(v=>{this.completeCallback(s),this.resolved=!0,v()})}error(s){return new Promise(v=>{this.errorCallback(s),this.rejected=!0,v()})}cancel(){new Promise(s=>{this.errorCallback((0,A.canceled)()),this.rejected=!0,s()})}}e.DeferredPromise=O;var B;(function(T){async function s(I){let q;const r=await Promise.all(I.map(d=>d.then(w=>w,w=>{q||(q=w)})));if(typeof q!="undefined")throw q;return r}T.settled=s;function v(I){return new Promise(async(q,r)=>{try{await I(q,r)}catch(d){r(d)}})}T.withAsyncBody=v})(B=e.Promises||(e.Promises={}))}),define(Q[22],G([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const c=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function A(h){return c.test(h)}e.isUUID=A;const g=new Uint8Array(16),L=[];for(let h=0;h<256;h++)L.push(h.toString(16).padStart(2,"0"));let S;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?S=crypto.getRandomValues.bind(crypto):S=function(h){for(let l=0;l<h.length;l++)h[l]=Math.floor(Math.random()*256);return h};function b(){S(g),g[6]=g[6]&15|64,g[8]=g[8]&63|128;let h=0,l="";return l+=L[g[h++]],l+=L[g[h++]],l+=L[g[h++]],l+=L[g[h++]],l+="-",l+=L[g[h++]],l+=L[g[h++]],l+="-",l+=L[g[h++]],l+=L[g[h++]],l+="-",l+=L[g[h++]],l+=L[g[h++]],l+="-",l+=L[g[h++]],l+=L[g[h++]],l+=L[g[h++]],l+=L[g[h++]],l+=L[g[h++]],l+=L[g[h++]],l}e.generateUuid=b}),define(Q[23],G([0,1,36]),function(K,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecoder=void 0;class A{constructor(L="utf8"){this.stringDecoder=new c.StringDecoder(L),this.remaining=null}write(L){const S=[],b=this.remaining?this.remaining+this.stringDecoder.write(L):this.stringDecoder.write(L);if(b.length<1)return S;let h=0,l,k=h;for(;k<b.length;)if(l=b.charCodeAt(k),l===13||l===10){if(S.push(b.substring(h,k)),k++,k<b.length){const W=l;l=b.charCodeAt(k),(W===13&&l===10||W===10&&l===13)&&k++}h=k}else k++;return this.remaining=h<b.length?b.substr(h):null,S}end(){return this.remaining}}e.LineDecoder=A}),define(Q[24],G([0,1,37,38,39,20,3,18,4,2,13,6,22]),function(K,e,c,A,g,L,S,b,h,l,k,W,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.writeFileSync=e.SymlinkSupport=e.whenDeleted=e.readdirSync=e.rimrafSync=e.RimRafMode=void 0;var j;(function(O){O[O.UNLINK=0]="UNLINK",O[O.MOVE=1]="MOVE"})(j=e.RimRafMode||(e.RimRafMode={}));async function f(O,B=j.UNLINK){if((0,S.isRootOrDriveLetter)(O))throw new Error("rimraf - will refuse to recursively delete root");return B===j.UNLINK?m(O):u(O)}async function u(O){try{const B=(0,h.join)((0,A.tmpdir)(),(0,z.generateUuid)());try{await e.Promises.rename(O,B)}catch(T){return m(O)}m(B).catch(T=>{})}catch(B){if(B.code!=="ENOENT")throw B}}async function m(O){return e.Promises.rmdir(O,{recursive:!0,maxRetries:3})}function p(O){if((0,S.isRootOrDriveLetter)(O))throw new Error("rimraf - will refuse to recursively delete root");c.rmdirSync(O,{recursive:!0})}e.rimrafSync=p;async function C(O,B){return U(await(B?_(O):(0,g.promisify)(c.readdir)(O)))}async function _(O){try{return await(0,g.promisify)(c.readdir)(O,{withFileTypes:!0})}catch(s){console.warn("[node.js fs] readdir with filetypes failed with error: ",s)}const B=[],T=await C(O);for(const s of T){let v=!1,I=!1,q=!1;try{const r=await e.Promises.lstat((0,h.join)(O,s));v=r.isFile(),I=r.isDirectory(),q=r.isSymbolicLink()}catch(r){console.warn("[node.js fs] unexpected error from lstat after readdir: ",r)}B.push({name:s,isFile:()=>v,isDirectory:()=>I,isSymbolicLink:()=>q})}return B}function y(O){return U(c.readdirSync(O))}e.readdirSync=y;function U(O){return O.map(B=>typeof B=="string"?l.isMacintosh?(0,b.normalizeNFC)(B):B:(B.name=l.isMacintosh?(0,b.normalizeNFC)(B.name):B.name,B))}async function M(O){const B=await C(O),T=[];for(const s of B)await i.existsDirectory((0,h.join)(O,s))&&T.push(s);return T}function E(O,B=1e3){return new Promise(T=>{let s=!1;const v=setInterval(()=>{s||(s=!0,c.access(O,I=>{s=!1,I&&(clearInterval(v),T(void 0))}))},B)})}e.whenDeleted=E;var i;(function(O){async function B(v){let I;try{if(I=await e.Promises.lstat(v),!I.isSymbolicLink())return{stat:I}}catch(q){}try{return{stat:await e.Promises.stat(v),symbolicLink:I?.isSymbolicLink()?{dangling:!1}:void 0}}catch(q){if(q.code==="ENOENT"&&I)return{stat:I,symbolicLink:{dangling:!0}};if(l.isWindows&&q.code==="EACCES")try{return{stat:await e.Promises.stat(await e.Promises.readlink(v)),symbolicLink:{dangling:!1}}}catch(r){if(r.code==="ENOENT"&&I)return{stat:I,symbolicLink:{dangling:!0}};throw r}throw q}}O.stat=B;async function T(v){try{const{stat:I,symbolicLink:q}=await O.stat(v);return I.isFile()&&q?.dangling!==!0}catch(I){}return!1}O.existsFile=T;async function s(v){try{const{stat:I,symbolicLink:q}=await O.stat(v);return I.isDirectory()&&q?.dangling!==!0}catch(I){}return!1}O.existsDirectory=s})(i=e.SymlinkSupport||(e.SymlinkSupport={}));const t=new L.ResourceQueue;function n(O,B,T){return t.queueFor(W.URI.file(O),k.extUriBiasedIgnorePathCase).queue(()=>{const s=D(T);return new Promise((v,I)=>a(O,B,s,q=>q?I(q):v()))})}let o=!0;function a(O,B,T,s){if(!o)return c.writeFile(O,B,{mode:T.mode,flag:T.flag},s);c.open(O,T.flag,T.mode,(v,I)=>{if(v)return s(v);c.writeFile(I,B,q=>{if(q)return c.close(I,()=>s(q));c.fdatasync(I,r=>(r&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",r),o=!1),c.close(I,d=>s(d))))})})}function P(O,B,T){const s=D(T);if(!o)return c.writeFileSync(O,B,{mode:s.mode,flag:s.flag});const v=c.openSync(O,s.flag,s.mode);try{c.writeFileSync(v,B);try{c.fdatasyncSync(v)}catch(I){console.warn("[node.js fs] fdatasyncSync is now disabled for this session because it failed: ",I),o=!1}}finally{c.closeSync(v)}}e.writeFileSync=P;function D(O){return O?{mode:typeof O.mode=="number"?O.mode:438,flag:typeof O.flag=="string"?O.flag:"w"}:{mode:438,flag:"w"}}async function F(O,B){if(O===B)return;async function T(s){try{const v=await e.Promises.lstat(s);if(v.isDirectory()||v.isSymbolicLink())return;await e.Promises.utimes(s,v.atime,new Date)}catch(v){}}try{await e.Promises.rename(O,B),await T(B)}catch(s){if(O.toLowerCase()!==B.toLowerCase()&&s.code==="EXDEV"||O.endsWith("."))await V(O,B,{preserveSymlinks:!1}),await f(O,j.MOVE),await T(B);else throw s}}async function V(O,B,T){return J(O,B,{root:{source:O,target:B},options:T,handledSourcePaths:new Set})}const Y=511;async function J(O,B,T){if(T.handledSourcePaths.has(O))return;T.handledSourcePaths.add(O);const{stat:s,symbolicLink:v}=await i.stat(O);if(v){if(T.options.preserveSymlinks)try{return await re(O,B,T)}catch(I){console.warn("[node.js fs] copy of symlink failed: ",I)}if(v.dangling)return}return s.isDirectory()?X(O,B,s.mode&Y,T):ne(O,B,s.mode&Y)}async function X(O,B,T,s){await e.Promises.mkdir(B,{recursive:!0,mode:T});const v=await C(O);for(const I of v)await J((0,h.join)(O,I),(0,h.join)(B,I),s)}async function ne(O,B,T){await e.Promises.copyFile(O,B),await e.Promises.chmod(B,T)}async function re(O,B,T){let s=await e.Promises.readlink(O);(0,S.isEqualOrParent)(s,T.root.source,!l.isLinux)&&(s=(0,h.join)(T.root.target,s.substr(T.root.source.length+1))),await e.Promises.symlink(s,B)}e.Promises=new class{get access(){return(0,g.promisify)(c.access)}get stat(){return(0,g.promisify)(c.stat)}get lstat(){return(0,g.promisify)(c.lstat)}get utimes(){return(0,g.promisify)(c.utimes)}get read(){return(0,g.promisify)(c.read)}get readFile(){return(0,g.promisify)(c.readFile)}get write(){return(0,g.promisify)(c.write)}get appendFile(){return(0,g.promisify)(c.appendFile)}get fdatasync(){return(0,g.promisify)(c.fdatasync)}get truncate(){return(0,g.promisify)(c.truncate)}get rename(){return(0,g.promisify)(c.rename)}get copyFile(){return(0,g.promisify)(c.copyFile)}get open(){return(0,g.promisify)(c.open)}get close(){return(0,g.promisify)(c.close)}get symlink(){return(0,g.promisify)(c.symlink)}get readlink(){return(0,g.promisify)(c.readlink)}get chmod(){return(0,g.promisify)(c.chmod)}get mkdir(){return(0,g.promisify)(c.mkdir)}get unlink(){return(0,g.promisify)(c.unlink)}get rmdir(){return(0,g.promisify)(c.rmdir)}get realpath(){return(0,g.promisify)(c.realpath)}async exists(O){try{return await e.Promises.access(O),!0}catch{return!1}}get readdir(){return C}get readDirsInDir(){return M}get writeFile(){return n}get rm(){return f}get move(){return F}get copy(){return V}}}),define(Q[25],G([26,27]),function(K,e){return K.create("vs/base/common/errorMessage",e)}),define(Q[28],G([0,1,7,5,25]),function(K,e,c,A,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function L(l,k){return k&&(l.stack||l.stacktrace)?g.localize(0,null,b(l),S(l.stack)||S(l.stacktrace)):b(l)}function S(l){return Array.isArray(l)?l.join(`
`):l}function b(l){return typeof l.code=="string"&&typeof l.errno=="number"&&typeof l.syscall=="string"?g.localize(1,null,l.message):l.message||g.localize(2,null)}function h(l=null,k=!1){if(!l)return g.localize(3,null);if(Array.isArray(l)){const W=c.coalesce(l),z=h(W[0],k);return W.length>1?g.localize(4,null,z,W.length):z}if(A.isString(l))return l;if(l.detail){const W=l.detail;if(W.error)return L(W.error,k);if(W.exception)return L(W.exception,k)}return l.stack?L(l,k):l.message?l.message:g.localize(5,null)}e.toErrorMessage=h}),define(Q[29],G([26,27]),function(K,e){return K.create("vs/base/node/processes",e)}),define(Q[30],G([0,1,31,3,12,11,4,2,40,14,5,23,24,29]),function(K,e,c,A,g,L,S,b,h,l,k,W,z,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.removeDangerousEnvVariables=e.TerminateResponseCode=e.Source=void 0,Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return l.Source}}),Object.defineProperty(e,"TerminateResponseCode",{enumerable:!0,get:function(){return l.TerminateResponseCode}});function f(M){switch(M){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function u(M,E){if(b.isWindows)try{const i={stdio:["pipe","pipe","ignore"]};E&&(i.cwd=E);const t=c.execFile("taskkill",["/T","/F","/PID",M.pid.toString()],i);return new Promise(n=>{t.once("error",o=>{n({success:!1,error:o})}),t.once("exit",(o,a)=>{n(o===0?{success:!0}:{success:!1,code:o!==null?o:1})})})}catch(i){return Promise.resolve({success:!1,error:i,code:i.status?f(i.status):1})}else if(b.isLinux||b.isMacintosh)try{const i=g.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",K).fsPath;return new Promise(t=>{c.execFile(i,[M.pid.toString()],{encoding:"utf8",shell:!0},(n,o,a)=>{t(n?{success:!1,error:n}:{success:!0})})})}catch(i){return Promise.resolve({success:!1,error:i})}else M.kill("SIGKILL");return Promise.resolve({success:!0})}function m(M){!M||(delete M.DEBUG,b.isMacintosh&&delete M.DYLD_LIBRARY_PATH,b.isLinux&&delete M.LD_PRELOAD)}e.removeDangerousEnvVariables=m;function p(M=h.env){return M.comspec||"cmd.exe"}e.getWindowsShell=p;class C{constructor(E,i,t,n){if(i!==void 0&&t!==void 0&&n!==void 0)this.cmd=E,this.args=i,this.shell=t,this.options=n;else{const o=E;this.cmd=o.command,this.shell=o.isShellCommand,this.args=o.args.slice(0),this.options=o.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const o=Object.create(null);Object.keys(h.env).forEach(a=>{o[a]=h.env[a]}),Object.keys(this.options.env).forEach(a=>{o[a]=this.options.env[a]}),this.options.env=o}}getSanitizedCommand(){let E=this.cmd.toLowerCase();const i=E.lastIndexOf(S.sep);return i!==-1&&(E=E.substring(i+1)),C.WellKnowCommands[E]?E:"other"}start(E){return b.isWindows&&(this.options&&this.options.cwd&&A.isUNC(this.options.cwd)||!this.options&&A.isUNC(h.cwd()))?Promise.reject(new Error(j.localize(0,null))):this.useExec().then(i=>{let t,n;const o=new Promise((a,P)=>{t=a,n=P});if(i){let a=this.cmd;this.args&&(a=a+" "+this.args.join(" ")),this.childProcess=c.exec(a,this.options,(P,D,F)=>{this.childProcess=null;const V=P;V&&V.killed?n({killed:this.terminateRequested,stdout:D.toString(),stderr:F.toString()}):this.handleExec(t,E,P,D,F)})}else{let a=null;const P=D=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(D,t,E,n);const F={terminated:this.terminateRequested};k.isNumber(D)&&(F.cmdCode=D),t(F)};if(this.shell&&b.isWindows){const D=L.deepClone(this.options);D.windowsVerbatimArguments=!0,D.detached=!1;let F=!1,V=!1;const Y=[];let J=this.ensureQuotes(this.cmd);Y.push(J.value),F=J.quoted,this.args&&this.args.forEach(ne=>{J=this.ensureQuotes(ne),Y.push(J.value),V=V&&J.quoted});const X=["/s","/c"];F?V?X.push('"'+Y.join(" ")+'"'):Y.length>1?X.push('"'+Y[0]+'" '+Y.slice(1).join(" ")):X.push('"'+Y[0]+'"'):X.push(Y.join(" ")),a=c.spawn(p(),X,D)}else this.cmd&&(a=c.spawn(this.cmd,this.args,this.options));a&&(this.childProcess=a,this.childProcessPromise=Promise.resolve(a),this.pidResolve&&(this.pidResolve(k.isNumber(a.pid)?a.pid:-1),this.pidResolve=void 0),a.on("error",D=>{this.childProcess=null,n({terminated:this.terminateRequested,error:D})}),a.pid&&(this.childProcess.on("close",P),this.handleSpawn(a,t,E,n,!0)))}return o})}handleClose(E,i,t,n){}ensureQuotes(E){return C.regexp.test(E)?{value:'"'+E+'"',quoted:!0}:{value:E,quoted:E.length>0&&E[0]==='"'&&E[E.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(E=>E.pid,E=>-1):new Promise(E=>{this.pidResolve=E})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(E=>(this.terminateRequested=!0,u(E,this.options.cwd).then(i=>(i.success&&(this.childProcess=null),i))),E=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(E=>{if(!this.shell||!b.isWindows)return E(!1);const i=c.spawn(p(),["/s","/c"]);i.on("error",t=>E(!0)),i.on("exit",t=>E(!1))})}}e.AbstractProcess=C,C.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},C.regexp=/^[^"].* .*[^"]/;class _ extends C{constructor(E,i,t,n){super(E,i,t,n);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(E,i,t,n,o){[n,o].forEach((a,P)=>{const D=new W.LineDecoder;D.write(a).forEach(Y=>{i({line:Y,source:P===0?0:1})});const V=D.end();V&&i({line:V,source:P===0?0:1})}),E({terminated:this.terminateRequested,error:t})}handleSpawn(E,i,t,n,o){const a=new W.LineDecoder,P=new W.LineDecoder;E.stdout.on("data",D=>{a.write(D).forEach(V=>t({line:V,source:0}))}),E.stderr.on("data",D=>{P.write(D).forEach(V=>t({line:V,source:1}))}),this.stdoutLineDecoder=a,this.stderrLineDecoder=P}handleClose(E,i,t,n){const o=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;o&&t({line:o,source:0});const a=this.stderrLineDecoder?this.stderrLineDecoder.end():null;a&&t({line:a,source:1})}}e.LineProcess=_;function y(M){let E=[],i=!1;const t=function(n){if(i){E.push(n);return}(!M.send(n,a=>{if(a&&console.error(a),i=!1,E.length>0){const P=E.slice(0);E=[],P.forEach(D=>t(D))}})||b.isWindows)&&(i=!0)};return{send:t}}e.createQueuedSender=y;var U;(function(M){async function E(i,t,n){if(S.isAbsolute(i))return i;if(t===void 0&&(t=h.cwd()),S.dirname(i)!=="."||(n===void 0&&k.isString(h.env.PATH)&&(n=h.env.PATH.split(S.delimiter)),n===void 0||n.length===0))return S.join(t,i);async function a(P){if(await z.Promises.exists(P)){let D;try{D=await z.Promises.stat(P)}catch(F){F.message.startsWith("EACCES")&&(D=await z.Promises.lstat(P))}return D?!D.isDirectory():!1}return!1}for(let P of n){let D;if(S.isAbsolute(P)?D=S.join(P,i):D=S.join(t,P,i),await a(D))return D;let F=D+".com";if(await a(F)||(F=D+".exe",await a(F)))return F}return S.join(t,i)}M.findExecutable=E})(U=e.win32||(e.win32={}))}),define(Q[32],G([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var c;(function(b){b.serviceIds=new Map,b.DI_TARGET="$di$target",b.DI_DEPENDENCIES="$di$dependencies";function h(l){return l[b.DI_DEPENDENCIES]||[]}b.getServiceDependencies=h})(c=e._util||(e._util={})),e.IInstantiationService=g("instantiationService");function A(b,h,l,k){h[c.DI_TARGET]===h?h[c.DI_DEPENDENCIES].push({id:b,index:l,optional:k}):(h[c.DI_DEPENDENCIES]=[{id:b,index:l,optional:k}],h[c.DI_TARGET]=h)}function g(b){if(c.serviceIds.has(b))return c.serviceIds.get(b);const h=function(l,k,W){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");A(h,l,W,!1)};return h.toString=()=>b,c.serviceIds.set(b,h),h}e.createDecorator=g;function L(b){return b}e.refineServiceDecorator=L;function S(b){return function(h,l,k){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");A(b,h,k,!0)}}e.optional=S}),define(Q[33],G([0,1,41,32]),function(K,e,c,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ipcSharedProcessWorkerChannelName=e.ISharedProcessWorkerService=e.hash=void 0;function g(L){return(0,c.hash)({moduleId:L.process.moduleId,windowId:L.reply.windowId})}e.hash=g,e.ISharedProcessWorkerService=(0,A.createDecorator)("sharedProcessWorkerService"),e.ipcSharedProcessWorkerChannelName="sharedProcessWorker"}),define(Q[34],G([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedProcessWorkerMessages=void 0;var c;(function(A){A.Spawn="vscode:shared-process->shared-process-worker=spawn",A.Terminate="vscode:shared-process->shared-process-worker=terminate",A.SelfTerminated="vscode:shared-process-worker->shared-process=selfTerminated",A.Ready="vscode:shared-process-worker->shared-process=ready",A.Ack="vscode:shared-process-worker->shared-process=ack",A.Trace="vscode:shared-process-worker->shared-process=trace",A.Info="vscode:shared-process-worker->shared-process=info",A.Warn="vscode:shared-process-worker->shared-process=warn",A.Error="vscode:shared-process-worker->shared-process=error"})(c=e.SharedProcessWorkerMessages||(e.SharedProcessWorkerMessages={}))}),define(Q[42],G([0,1,31,43,16,19,28,21,9,11,30,33,34]),function(K,e,c,A,g,L,S,b,h,l,k,W,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;function j(){const C=new f;return p({id:z.SharedProcessWorkerMessages.Ready}),{onmessage:(_,y)=>C.onMessage(_,y)}}e.create=j;class f{constructor(){this.processes=new Map}onMessage(_,y){switch(_.id){case z.SharedProcessWorkerMessages.Spawn:y&&y[0]instanceof MessagePort&&_.environment&&this.spawn(y[0],_.configuration,_.environment);break;case z.SharedProcessWorkerMessages.Terminate:this.terminate(_.configuration);break;default:m.warn(`Unexpected shared process message '${_}'`)}_.nonce&&p({id:z.SharedProcessWorkerMessages.Ack,nonce:_.nonce})}spawn(_,y,U){try{this.terminate(y);const M=new u(_,y,U);M.spawn();const E=b.Event.once(M.onDidProcessSelfTerminate)(()=>{p({id:z.SharedProcessWorkerMessages.SelfTerminated,configuration:y})}),i=(0,W.hash)(y);this.processes.set(i,(0,h.toDisposable)(()=>{E.dispose(),M.dispose(),this.processes.delete(i)}))}catch(M){m.error(`Unexpected error forking worker process: ${(0,S.toErrorMessage)(M)}`)}}terminate(_){const y=this.processes.get((0,W.hash)(_));y&&y.dispose()}}class u extends h.Disposable{constructor(_,y,U){super();this.port=_,this.configuration=y,this.environment=U,this._onDidProcessSelfTerminate=this._register(new b.Emitter),this.onDidProcessSelfTerminate=this._onDidProcessSelfTerminate.event,this.child=void 0}spawn(){m.trace("Forking worker process"),this.child=(0,c.fork)(this.environment.bootstrapPath,[`--type=${this.configuration.process.type}`],{env:this.getEnv()}),m.info(`Starting worker process with pid ${this.child.pid} (type: ${this.configuration.process.type}, window: ${this.configuration.reply.windowId}).`);const _=b.Event.fromNodeEventEmitter(this.child,"error");this._register(_(t=>m.warn(`Error from child process: ${(0,S.toErrorMessage)(t)}`)));const y=b.Event.fromNodeEventEmitter(this.child,"exit",(t,n)=>({code:t,signal:n}));this._register(y(({code:t,signal:n})=>{const o=`Worker process with pid ${this.child?.pid} terminated by itself with code ${t}, signal: ${n} (type: ${this.configuration.process.type}, window: ${this.configuration.reply.windowId})`;t!==0&&n!=="SIGTERM"?m.error(o):m.info(o),this.child=void 0,this._onDidProcessSelfTerminate.fire()}));const U=this._register(new b.Emitter),M=b.Event.fromNodeEventEmitter(this.child,"message",t=>t);this._register(M(t=>{(0,L.isRemoteConsoleLog)(t)?(0,A.log)(t,"SharedProcess worker"):U.fire(g.VSBuffer.wrap(Buffer.from(t,"base64")))}));const E=t=>{this.child?.connected?this.child.send(t.buffer.toString("base64")):m.warn("Unable to deliver message to disconnected child")},i=U.event;this._register(i(t=>this.port.postMessage(t.buffer))),this.port.onmessage=t=>E(g.VSBuffer.wrap(t.data)),this._register((0,h.toDisposable)(()=>this.port.onmessage=null))}getEnv(){const _={...(0,l.deepClone)(process.env),VSCODE_AMD_ENTRYPOINT:this.configuration.process.moduleId,VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true",VSCODE_PARENT_PID:String(process.pid)};return(0,k.removeDangerousEnvVariables)(_),_}dispose(){super.dispose(),!!this.child&&(this.child.kill(),m.info(`Worker process with pid ${this.child?.pid} terminated normally (type: ${this.configuration.process.type}, window: ${this.configuration.reply.windowId}).`))}}var m;(function(C){function _(E){p({id:z.SharedProcessWorkerMessages.Error,message:E})}C.error=_;function y(E){p({id:z.SharedProcessWorkerMessages.Warn,message:E})}C.warn=y;function U(E){p({id:z.SharedProcessWorkerMessages.Info,message:E})}C.info=U;function M(E){p({id:z.SharedProcessWorkerMessages.Trace,message:E})}C.trace=M})(m||(m={}));function p(C){postMessage(C)}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/3a6960b964327f0e3882ce18fcebd07ed191b316/core/vs/platform/sharedProcess/electron-browser/sharedProcessWorkerMain.js.map
