/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var te=["require","exports","vs/base/common/strings","vs/base/common/extpath","vs/base/common/path","vs/base/common/platform","vs/base/common/uri","vs/base/common/async","vs/base/common/glob","vs/base/common/arrays","vs/base/common/errors","vs/base/common/map","vs/base/common/network","vs/base/common/resources","vs/base/common/cancellation","vs/workbench/services/search/common/getFileResults","vs/workbench/services/search/common/ignoreFile","vs/base/common/types","vs/base/common/event","vs/base/common/lifecycle","vs/editor/common/core/range","vs/workbench/services/search/worker/localFileSearch"],ne=function(Y){for(var e=[],E=0,S=Y.length;E<S;E++)e[E]=te[Y[E]];return e};define(te[9],ne([0,1,10]),function(Y,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.maxIndex=e.minIndex=e.splice=e.insertInto=e.mapFind=e.getRandomElement=e.asArray=e.mapArrayOrNot=e.pushToEnd=e.pushToStart=e.shuffle=e.arrayInsert=e.remove=e.insert=e.index=e.range=e.flatten=e.commonPrefixLength=e.firstOrDefault=e.lastIndex=e.findLast=e.uniqueFilter=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.move=e.coalesceInPlace=e.coalesce=e.topAsync=e.top=e.delta=e.sortedDiff=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function S(i,s=0){return i[i.length-(1+s)]}e.tail=S;function A(i){if(i.length===0)throw new Error("Invalid tail call");return[i.slice(0,i.length-1),i[i.length-1]]}e.tail2=A;function L(i,s,r=(f,g)=>f===g){if(i===s)return!0;if(!i||!s||i.length!==s.length)return!1;for(let f=0,g=i.length;f<g;f++)if(!r(i[f],s[f]))return!1;return!0}e.equals=L;function I(i,s,r){let f=0,g=i.length-1;for(;f<=g;){const m=(f+g)/2|0,w=r(i[m],s);if(w<0)f=m+1;else if(w>0)g=m-1;else return m}return-(f+1)}e.binarySearch=I;function y(i,s){let r=0,f=i.length;if(f===0)return 0;for(;r<f;){const g=Math.floor((r+f)/2);s(i[g])?f=g:r=g+1}return r}e.findFirstInSorted=y;function p(i,s,r){if(i=i|0,i>=s.length)throw new TypeError("invalid index");let f=s[Math.floor(s.length*Math.random())],g=[],m=[],w=[];for(let N of s){const q=r(N,f);q<0?g.push(N):q>0?m.push(N):w.push(N)}return i<g.length?p(i,g,r):i<g.length+w.length?w[0]:p(i-(g.length+w.length),m,r)}e.quickSelect=p;function U(i,s){const r=[];let f;for(const g of i.slice(0).sort(s))!f||s(f[0],g)!==0?(f=[g],r.push(f)):f.push(g);return r}e.groupBy=U;function O(i,s,r){const f=[];function g(N,q,$){if(q===0&&$.length===0)return;const Z=f[f.length-1];Z&&Z.start+Z.deleteCount===N?(Z.deleteCount+=q,Z.toInsert.push(...$)):f.push({start:N,deleteCount:q,toInsert:$})}let m=0,w=0;for(;;){if(m===i.length){g(m,0,s.slice(w));break}if(w===s.length){g(m,i.length-m,[]);break}const N=i[m],q=s[w],$=r(N,q);$===0?(m+=1,w+=1):$<0?(g(m,1,[]),m+=1):$>0&&(g(m,0,[q]),w+=1)}return f}e.sortedDiff=O;function V(i,s,r){const f=O(i,s,r),g=[],m=[];for(const w of f)g.push(...i.slice(w.start,w.start+w.deleteCount)),m.push(...w.toInsert);return{removed:g,added:m}}e.delta=V;function G(i,s,r){if(r===0)return[];const f=i.slice(0,r).sort(s);return c(i,s,f,r,i.length),f}e.top=G;function W(i,s,r,f,g){return r===0?Promise.resolve([]):new Promise((m,w)=>{(async()=>{const N=i.length,q=i.slice(0,r).sort(s);for(let $=r,Z=Math.min(r+f,N);$<N;$=Z,Z=Math.min(Z+f,N)){if($>r&&await new Promise(re=>setTimeout(re)),g&&g.isCancellationRequested)throw(0,E.canceled)();c(i,s,q,$,Z)}return q})().then(m,w)})}e.topAsync=W;function c(i,s,r,f,g){for(const m=r.length;f<g;f++){const w=i[f];if(s(w,r[m-1])<0){r.pop();const N=y(r,q=>s(w,q)<0);r.splice(N,0,w)}}}function P(i){return i.filter(s=>!!s)}e.coalesce=P;function b(i){let s=0;for(let r=0;r<i.length;r++)i[r]&&(i[s]=i[r],s+=1);i.length=s}e.coalesceInPlace=b;function D(i,s,r){i.splice(r,0,i.splice(s,1)[0])}e.move=D;function j(i){return!Array.isArray(i)||i.length===0}e.isFalsyOrEmpty=j;function k(i){return Array.isArray(i)&&i.length>0}e.isNonEmptyArray=k;function R(i,s=r=>r){const r=new Set;return i.filter(f=>{const g=s(f);return r.has(g)?!1:(r.add(g),!0)})}e.distinct=R;function B(i){const s=Object.create(null);return r=>{const f=i(r);return s[f]?!1:(s[f]=!0,!0)}}e.uniqueFilter=B;function M(i,s){const r=K(i,s);if(r!==-1)return i[r]}e.findLast=M;function K(i,s){for(let r=i.length-1;r>=0;r--){const f=i[r];if(s(f))return r}return-1}e.lastIndex=K;function n(i,s){return i.length>0?i[0]:s}e.firstOrDefault=n;function t(i,s,r=(f,g)=>f===g){let f=0;for(let g=0,m=Math.min(i.length,s.length);g<m&&r(i[g],s[g]);g++)f++;return f}e.commonPrefixLength=t;function a(i){return[].concat(...i)}e.flatten=a;function o(i,s){let r=typeof s=="number"?i:0;typeof s=="number"?r=i:(r=0,s=i);const f=[];if(r<=s)for(let g=r;g<s;g++)f.push(g);else for(let g=r;g>s;g--)f.push(g);return f}e.range=o;function h(i,s,r){return i.reduce((f,g)=>(f[s(g)]=r?r(g):g,f),Object.create(null))}e.index=h;function v(i,s){return i.push(s),()=>C(i,s)}e.insert=v;function C(i,s){const r=i.indexOf(s);if(r>-1)return i.splice(r,1),s}e.remove=C;function F(i,s,r){const f=i.slice(0,s),g=i.slice(s);return f.concat(r,g)}e.arrayInsert=F;function H(i,s){let r;if(typeof s=="number"){let f=s;r=()=>{const g=Math.sin(f++)*179426549;return g-Math.floor(g)}}else r=Math.random;for(let f=i.length-1;f>0;f-=1){const g=Math.floor(r()*(f+1)),m=i[f];i[f]=i[g],i[g]=m}}e.shuffle=H;function z(i,s){const r=i.indexOf(s);r>-1&&(i.splice(r,1),i.unshift(s))}e.pushToStart=z;function X(i,s){const r=i.indexOf(s);r>-1&&(i.splice(r,1),i.push(s))}e.pushToEnd=X;function Q(i,s){return Array.isArray(i)?i.map(s):s(i)}e.mapArrayOrNot=Q;function J(i){return Array.isArray(i)?i:[i]}e.asArray=J;function x(i){return i[Math.floor(Math.random()*i.length)]}e.getRandomElement=x;function ee(i,s){for(const r of i){const f=s(r);if(f!==void 0)return f}}e.mapFind=ee;function ie(i,s,r){const f=u(i,s),g=i.length,m=r.length;i.length=g+m;for(let w=g-1;w>=f;w--)i[w+m]=i[w];for(let w=0;w<m;w++)i[w+f]=r[w]}e.insertInto=ie;function T(i,s,r,f){const g=u(i,s),m=i.splice(g,r);return ie(i,g,f),m}e.splice=T;function u(i,s){return s<0?Math.max(s+i.length,0):Math.min(s,i.length)}function _(i,s){let r=Number.MAX_SAFE_INTEGER,f=0;return i.forEach((g,m)=>{const w=s(g);w<r&&(r=w,f=m)}),f}e.minIndex=_;function l(i,s){let r=Number.MIN_SAFE_INTEGER,f=0;return i.forEach((g,m)=>{const w=s(g);w>r&&(r=w,f=m)}),f}e.maxIndex=l;class d{constructor(s){this.items=s,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(s){let r=this.firstIdx;for(;r<this.items.length&&s(this.items[r]);)r++;const f=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,f}takeFromEndWhile(s){let r=this.lastIdx;for(;r>=0&&s(this.items[r]);)r--;const f=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,f}peek(){return this.items[this.firstIdx]}}e.ArrayQueue=d});var oe=this&&this.__classPrivateFieldSet||function(Y,e,E,S,A){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!A)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?Y!==e||!A:!e.has(Y))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?A.call(Y,E):A?A.value=E:e.set(Y,E),E},se=this&&this.__classPrivateFieldGet||function(Y,e,E,S){if(E==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?Y!==e||!S:!e.has(Y))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?S:E==="a"?S.call(Y):S?S.value:e.get(Y)};define(te[11],ne([0,1,9,2]),function(Y,e,E,S){"use strict";var A,L,I;Object.defineProperty(e,"__esModule",{value:!0}),e.ReadonlyMapView=e.LRUCache=e.LinkedMap=e.Touch=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=e.setToString=e.mapToString=e.getOrSet=void 0;function y(n,t,a){let o=n.get(t);return o===void 0&&(o=a,n.set(t,o)),o}e.getOrSet=y;function p(n){const t=[];return n.forEach((a,o)=>{t.push(`${o} => ${a}`)}),`Map(${n.size}) {${t.join(", ")}}`}e.mapToString=p;function U(n){const t=[];return n.forEach(a=>{t.push(a)}),`Set(${n.size}) {${t.join(", ")}}`}e.setToString=U;class O{constructor(){this._value="",this._pos=0}reset(t){return this._value=t,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(t){const a=t.charCodeAt(0),o=this._value.charCodeAt(this._pos);return a-o}value(){return this._value[this._pos]}}e.StringIterator=O;class V{constructor(t=!0){this._caseSensitive=t}reset(t){return this._value=t,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(t)this._from++;else break;else t=!1;return this}cmp(t){return this._caseSensitive?(0,S.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,S.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=V;class G{constructor(t=!0,a=!0){this._splitOnBackslash=t,this._caseSensitive=a}reset(t){return this._value=t.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++){const a=this._value.charCodeAt(this._to);if(a===47||this._splitOnBackslash&&a===92)if(t)this._from++;else break;else t=!1}return this}cmp(t){return this._caseSensitive?(0,S.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,S.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=G;var W;(function(n){n[n.Scheme=1]="Scheme",n[n.Authority=2]="Authority",n[n.Path=3]="Path",n[n.Query=4]="Query",n[n.Fragment=5]="Fragment"})(W||(W={}));class c{constructor(t){this._ignorePathCasing=t,this._states=[],this._stateIdx=0}reset(t){return this._value=t,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new G(!1,!this._ignorePathCasing(t)),this._pathIterator.reset(t.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(t){if(this._states[this._stateIdx]===1)return(0,S.compareIgnoreCase)(t,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,S.compareIgnoreCase)(t,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(t);if(this._states[this._stateIdx]===4)return(0,S.compare)(t,this._value.query);if(this._states[this._stateIdx]===5)return(0,S.compare)(t,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=c;class P{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const t=this.right;return this.right=t.left,t.left=this,this.updateHeight(),t.updateHeight(),t}rotateRight(){const t=this.left;return this.left=t.right,t.right=this,this.updateHeight(),t.updateHeight(),t}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var b;(function(n){n[n.Left=-1]="Left",n[n.Mid=0]="Mid",n[n.Right=1]="Right"})(b||(b={}));class D{constructor(t){this._iter=t}static forUris(t=()=>!1){return new D(new c(t))}static forPaths(){return new D(new G)}static forStrings(){return new D(new O)}static forConfigKeys(){return new D(new V)}clear(){this._root=void 0}fill(t,a){if(a){const o=a.slice(0);(0,E.shuffle)(o);for(let h of o)this.set(h,t)}else{const o=t.slice(0);(0,E.shuffle)(o);for(let h of o)this.set(h[0],h[1])}}set(t,a){const o=this._iter.reset(t);let h;this._root||(this._root=new P,this._root.segment=o.value());const v=[];for(h=this._root;;){const F=o.cmp(h.segment);if(F>0)h.left||(h.left=new P,h.left.segment=o.value()),v.push([-1,h]),h=h.left;else if(F<0)h.right||(h.right=new P,h.right.segment=o.value()),v.push([1,h]),h=h.right;else if(o.hasNext())o.next(),h.mid||(h.mid=new P,h.mid.segment=o.value()),v.push([0,h]),h=h.mid;else break}const C=h.value;h.value=a,h.key=t;for(let F=v.length-1;F>=0;F--){const H=v[F][1];H.updateHeight();const z=H.balanceFactor();if(z<-1||z>1){const X=v[F][0],Q=v[F+1][0];if(X===1&&Q===1)v[F][1]=H.rotateLeft();else if(X===-1&&Q===-1)v[F][1]=H.rotateRight();else if(X===1&&Q===-1)H.right=v[F+1][1]=v[F+1][1].rotateRight(),v[F][1]=H.rotateLeft();else if(X===-1&&Q===1)H.left=v[F+1][1]=v[F+1][1].rotateLeft(),v[F][1]=H.rotateRight();else throw new Error;if(F>0)switch(v[F-1][0]){case-1:v[F-1][1].left=v[F][1];break;case 1:v[F-1][1].right=v[F][1];break;case 0:v[F-1][1].mid=v[F][1];break}else this._root=v[0][1]}}return C}get(t){return this._getNode(t)?.value}_getNode(t){const a=this._iter.reset(t);let o=this._root;for(;o;){const h=a.cmp(o.segment);if(h>0)o=o.left;else if(h<0)o=o.right;else if(a.hasNext())a.next(),o=o.mid;else break}return o}has(t){const a=this._getNode(t);return!(a?.value===void 0&&a?.mid===void 0)}delete(t){return this._delete(t,!1)}deleteSuperstr(t){return this._delete(t,!0)}_delete(t,a){const o=this._iter.reset(t),h=[];let v=this._root;for(;v;){const C=o.cmp(v.segment);if(C>0)h.push([-1,v]),v=v.left;else if(C<0)h.push([1,v]),v=v.right;else if(o.hasNext())o.next(),h.push([0,v]),v=v.mid;else break}if(!!v){if(a?(v.left=void 0,v.mid=void 0,v.right=void 0,v.height=1):(v.key=void 0,v.value=void 0),!v.mid&&!v.value)if(v.left&&v.right){const C=this._min(v.right),{key:F,value:H,segment:z}=C;this._delete(C.key,!1),v.key=F,v.value=H,v.segment=z}else{const C=v.left??v.right;if(h.length>0){const[F,H]=h[h.length-1];switch(F){case-1:H.left=C;break;case 0:H.mid=C;break;case 1:H.right=C;break}}else this._root=C}for(let C=h.length-1;C>=0;C--){const F=h[C][1];F.updateHeight();const H=F.balanceFactor();if(H>1?(F.right.balanceFactor()>=0||(F.right=h[C+1][1]=h[C+1][1].rotateRight()),h[C][1]=F.rotateLeft()):H<-1&&(F.left.balanceFactor()<=0||(F.left=h[C+1][1]=h[C+1][1].rotateLeft()),h[C][1]=F.rotateRight()),C>0)switch(h[C-1][0]){case-1:h[C-1][1].left=h[C][1];break;case 1:h[C-1][1].right=h[C][1];break;case 0:h[C-1][1].mid=h[C][1];break}else this._root=h[0][1]}}}_min(t){for(;t.left;)t=t.left;return t}findSubstr(t){const a=this._iter.reset(t);let o=this._root,h;for(;o;){const v=a.cmp(o.segment);if(v>0)o=o.left;else if(v<0)o=o.right;else if(a.hasNext())a.next(),h=o.value||h,o=o.mid;else break}return o&&o.value||h}findSuperstr(t){const a=this._iter.reset(t);let o=this._root;for(;o;){const h=a.cmp(o.segment);if(h>0)o=o.left;else if(h<0)o=o.right;else if(a.hasNext())a.next(),o=o.mid;else return o.mid?this._entries(o.mid):void 0}}forEach(t){for(const[a,o]of this)t(o,a)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(t){!t||(t.left&&(yield*this._entries(t.left)),t.value&&(yield[t.key,t.value]),t.mid&&(yield*this._entries(t.mid)),t.right&&(yield*this._entries(t.right)))}_isBalanced(){const t=a=>{if(!a)return!0;const o=a.balanceFactor();return o<-1||o>1?!1:t(a.left)&&t(a.right)};return t(this._root)}}e.TernarySearchTree=D;class j{constructor(t,a){this.uri=t,this.value=a}}class k{constructor(t,a){this[A]="ResourceMap",t instanceof k?(this.map=new Map(t.map),this.toKey=a??k.defaultToKey):(this.map=new Map,this.toKey=t??k.defaultToKey)}set(t,a){return this.map.set(this.toKey(t),new j(t,a)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,a){typeof a!="undefined"&&(t=t.bind(a));for(let[o,h]of this.map)t(h.value,h.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(A=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}}e.ResourceMap=k,k.defaultToKey=n=>n.toString();var R;(function(n){n[n.None=0]="None",n[n.AsOld=1]="AsOld",n[n.AsNew=2]="AsNew"})(R=e.Touch||(e.Touch={}));class B{constructor(){this[L]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,a=0){const o=this._map.get(t);if(!!o)return a!==0&&this.touch(o,a),o.value}set(t,a,o=0){let h=this._map.get(t);if(h)h.value=a,o!==0&&this.touch(h,o);else{switch(h={key:t,value:a,next:void 0,previous:void 0},o){case 0:this.addItemLast(h);break;case 1:this.addItemFirst(h);break;case 2:this.addItemLast(h);break;default:this.addItemLast(h);break}this._map.set(t,h),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const a=this._map.get(t);if(!!a)return this._map.delete(t),this.removeItem(a),this._size--,a.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,a){const o=this._state;let h=this._head;for(;h;){if(a?t.bind(a)(h.value,h.key,this):t(h.value,h.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");h=h.next}}keys(){const t=this,a=this._state;let o=this._head;const h={[Symbol.iterator](){return h},next(){if(t._state!==a)throw new Error("LinkedMap got modified during iteration.");if(o){const v={value:o.key,done:!1};return o=o.next,v}else return{value:void 0,done:!0}}};return h}values(){const t=this,a=this._state;let o=this._head;const h={[Symbol.iterator](){return h},next(){if(t._state!==a)throw new Error("LinkedMap got modified during iteration.");if(o){const v={value:o.value,done:!1};return o=o.next,v}else return{value:void 0,done:!0}}};return h}entries(){const t=this,a=this._state;let o=this._head;const h={[Symbol.iterator](){return h},next(){if(t._state!==a)throw new Error("LinkedMap got modified during iteration.");if(o){const v={value:[o.key,o.value],done:!1};return o=o.next,v}else return{value:void 0,done:!0}}};return h}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let a=this._head,o=this.size;for(;a&&o>t;)this._map.delete(a.key),a=a.next,o--;this._head=a,this._size=o,a&&(a.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const a=t.next,o=t.previous;if(!a||!o)throw new Error("Invalid list");a.previous=o,o.next=a}t.next=void 0,t.previous=void 0,this._state++}touch(t,a){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(a!==1&&a!==2)){if(a===1){if(t===this._head)return;const o=t.next,h=t.previous;t===this._tail?(h.next=void 0,this._tail=h):(o.previous=h,h.next=o),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(a===2){if(t===this._tail)return;const o=t.next,h=t.previous;t===this._head?(o.previous=void 0,this._head=o):(o.previous=h,h.next=o),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((a,o)=>{t.push([o,a])}),t}fromJSON(t){this.clear();for(const[a,o]of t)this.set(a,o)}}e.LinkedMap=B;class M extends B{constructor(t,a=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,a),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,a=2){return super.get(t,a)}peek(t){return super.get(t,0)}set(t,a){return super.set(t,a,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=M;class K{constructor(t){I.set(this,void 0),oe(this,I,t,"f")}get size(){return se(this,I,"f").size}forEach(t,a){se(this,I,"f").forEach(t,a)}get(t){return se(this,I,"f").get(t)}has(t){return se(this,I,"f").has(t)}entries(){return se(this,I,"f").entries()}keys(){return se(this,I,"f").keys()}values(){return se(this,I,"f").values()}[(I=new WeakMap,Symbol.iterator)](){return se(this,I,"f").entries()}}e.ReadonlyMapView=K}),define(te[3],ne([0,1,4,5,2,17]),function(Y,e,E,S,A,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(n){return n===47||n===92}e.isPathSeparator=I;function y(n){return n.replace(/[\\/]/g,E.posix.sep)}e.toSlashes=y;function p(n){return n.indexOf("/")===-1&&(n=y(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=p;function U(n,t=E.posix.sep){if(!n)return"";const a=n.length,o=n.charCodeAt(0);if(I(o)){if(I(n.charCodeAt(1))&&!I(n.charCodeAt(2))){let v=3;const C=v;for(;v<a&&!I(n.charCodeAt(v));v++);if(C!==v&&!I(n.charCodeAt(v+1))){for(v+=1;v<a;v++)if(I(n.charCodeAt(v)))return n.slice(0,v+1).replace(/[\\/]/g,t)}}return t}else if(D(o)&&n.charCodeAt(1)===58)return I(n.charCodeAt(2))?n.slice(0,2)+t:n.slice(0,2);let h=n.indexOf("://");if(h!==-1){for(h+=3;h<a;h++)if(I(n.charCodeAt(h)))return n.slice(0,h+1)}return""}e.getRoot=U;function O(n){if(!S.isWindows||!n||n.length<5)return!1;let t=n.charCodeAt(0);if(t!==92||(t=n.charCodeAt(1),t!==92))return!1;let a=2;const o=a;for(;a<n.length&&(t=n.charCodeAt(a),t!==92);a++);return!(o===a||(t=n.charCodeAt(a+1),isNaN(t)||t===92))}e.isUNC=O;const V=/[\\/:\*\?"<>\|]/g,G=/[\\/]/g,W=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function c(n,t=S.isWindows){const a=t?V:G;return!(!n||n.length===0||/^\s+$/.test(n)||(a.lastIndex=0,a.test(n))||t&&W.test(n)||n==="."||n===".."||t&&n[n.length-1]==="."||t&&n.length!==n.trim().length||n.length>255)}e.isValidBasename=c;function P(n,t,a){const o=n===t;return!a||o?o:!n||!t?!1:(0,A.equalsIgnoreCase)(n,t)}e.isEqual=P;function b(n,t,a,o=E.sep){if(n===t)return!0;if(!n||!t||t.length>n.length)return!1;if(a){if(!(0,A.startsWithIgnoreCase)(n,t))return!1;if(t.length===n.length)return!0;let v=t.length;return t.charAt(t.length-1)===o&&v--,n.charAt(v)===o}return t.charAt(t.length-1)!==o&&(t+=o),n.indexOf(t)===0}e.isEqualOrParent=b;function D(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=D;function j(n,t){return S.isWindows&&n.endsWith(":")&&(n+=E.sep),(0,E.isAbsolute)(n)||(n=(0,E.join)(t,n)),n=(0,E.normalize)(n),S.isWindows?(n=(0,A.rtrim)(n,E.sep),n.endsWith(":")&&(n+=E.sep)):(n=(0,A.rtrim)(n,E.sep),n||(n=E.sep)),n}e.sanitizeFilePath=j;function k(n){const t=(0,E.normalize)(n);return S.isWindows?n.length>3?!1:R(t)&&(n.length===2||t.charCodeAt(2)===92):t===E.posix.sep}e.isRootOrDriveLetter=k;function R(n){return S.isWindows?D(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=R;function B(n){return R(n)?n[0]:void 0}e.getDriveLetter=B;function M(n,t,a){return t.length>n.length?-1:n===t?0:(a&&(n=n.toLowerCase(),t=t.toLowerCase()),n.indexOf(t))}e.indexOfPath=M;function K(n){const t=n.split(":");let a,o,h;if(t.forEach(v=>{const C=Number(v);(0,L.isNumber)(C)?o===void 0?o=C:h===void 0&&(h=C):a=a?[a,v].join(":"):v}),!a)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:a,line:o!==void 0?o:void 0,column:h!==void 0?h:o!==void 0?1:void 0}}e.parseLineAndColumnAware=K}),define(te[12],ne([0,1,5,6]),function(Y,e,E,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var A;(function(y){y.inMemory="inmemory",y.vscode="vscode",y.internal="private",y.walkThrough="walkThrough",y.walkThroughSnippet="walkThroughSnippet",y.http="http",y.https="https",y.file="file",y.mailto="mailto",y.untitled="untitled",y.data="data",y.command="command",y.vscodeRemote="vscode-remote",y.vscodeRemoteResource="vscode-remote-resource",y.userData="vscode-userdata",y.vscodeCustomEditor="vscode-custom-editor",y.vscodeNotebook="vscode-notebook",y.vscodeNotebookCell="vscode-notebook-cell",y.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",y.vscodeNotebookCellOutput="vscode-notebook-cell-output",y.vscodeInteractive="vscode-interactive",y.vscodeInteractiveInput="vscode-interactive-input",y.vscodeSettings="vscode-settings",y.vscodeWorkspaceTrust="vscode-workspace-trust",y.vscodeTerminal="vscode-terminal",y.webviewPanel="webview-panel",y.vscodeWebview="vscode-webview",y.extension="extension",y.vscodeFileResource="vscode-file",y.tmp="tmp"})(A=e.Schemas||(e.Schemas={}));class L{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(p){this._preferredWebSchema=p}setDelegate(p){this._delegate=p}set(p,U,O){this._hosts[p]=U,this._ports[p]=O}setConnectionToken(p,U){this._connectionTokens[p]=U}rewrite(p){if(this._delegate)return this._delegate(p);const U=p.authority;let O=this._hosts[U];O&&O.indexOf(":")!==-1&&(O=`[${O}]`);const V=this._ports[U],G=this._connectionTokens[U];let W=`path=${encodeURIComponent(p.path)}`;return typeof G=="string"&&(W+=`&tkn=${encodeURIComponent(G)}`),S.URI.from({scheme:E.isWeb?this._preferredWebSchema:A.vscodeRemoteResource,authority:`${O}:${V}`,path:"/vscode-remote-resource",query:W})}}e.RemoteAuthorities=new L;class I{asBrowserUri(p,U){const O=this.toUri(p,U);return O.scheme===A.vscodeRemote?e.RemoteAuthorities.rewrite(O):O.scheme===A.file&&(E.isNative||typeof E.globals.importScripts=="function"&&E.globals.origin===`${A.vscodeFileResource}://${I.FALLBACK_AUTHORITY}`)?O.with({scheme:A.vscodeFileResource,authority:O.authority||I.FALLBACK_AUTHORITY,query:null,fragment:null}):O}asFileUri(p,U){const O=this.toUri(p,U);return O.scheme===A.vscodeFileResource?O.with({scheme:A.file,authority:O.authority!==I.FALLBACK_AUTHORITY?O.authority:null,query:null,fragment:null}):O}toUri(p,U){return S.URI.isUri(p)?p:S.URI.parse(U.toUrl(p))}}I.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new I}),define(te[13],ne([0,1,3,12,4,5,2,6]),function(Y,e,E,S,A,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function p(W){return(0,y.uriToFsPath)(W,!0)}e.originalFSPath=p;class U{constructor(c){this._ignorePathCasing=c}compare(c,P,b=!1){return c===P?0:(0,I.compare)(this.getComparisonKey(c,b),this.getComparisonKey(P,b))}isEqual(c,P,b=!1){return c===P?!0:!c||!P?!1:this.getComparisonKey(c,b)===this.getComparisonKey(P,b)}getComparisonKey(c,P=!1){return c.with({path:this._ignorePathCasing(c)?c.path.toLowerCase():void 0,fragment:P?null:void 0}).toString()}ignorePathCasing(c){return this._ignorePathCasing(c)}isEqualOrParent(c,P,b=!1){if(c.scheme===P.scheme){if(c.scheme===S.Schemas.file)return E.isEqualOrParent(p(c),p(P),this._ignorePathCasing(c))&&c.query===P.query&&(b||c.fragment===P.fragment);if((0,e.isEqualAuthority)(c.authority,P.authority))return E.isEqualOrParent(c.path,P.path,this._ignorePathCasing(c),"/")&&c.query===P.query&&(b||c.fragment===P.fragment)}return!1}joinPath(c,...P){return y.URI.joinPath(c,...P)}basenameOrAuthority(c){return(0,e.basename)(c)||c.authority}basename(c){return A.posix.basename(c.path)}extname(c){return A.posix.extname(c.path)}dirname(c){if(c.path.length===0)return c;let P;return c.scheme===S.Schemas.file?P=y.URI.file(A.dirname(p(c))).path:(P=A.posix.dirname(c.path),c.authority&&P.length&&P.charCodeAt(0)!==47&&(console.error(`dirname("${c.toString})) resulted in a relative path`),P="/")),c.with({path:P})}normalizePath(c){if(!c.path.length)return c;let P;return c.scheme===S.Schemas.file?P=y.URI.file(A.normalize(p(c))).path:P=A.posix.normalize(c.path),c.with({path:P})}relativePath(c,P){if(c.scheme!==P.scheme||!(0,e.isEqualAuthority)(c.authority,P.authority))return;if(c.scheme===S.Schemas.file){const j=A.relative(p(c),p(P));return L.isWindows?E.toSlashes(j):j}let b=c.path||"/",D=P.path||"/";if(this._ignorePathCasing(c)){let j=0;for(const k=Math.min(b.length,D.length);j<k&&!(b.charCodeAt(j)!==D.charCodeAt(j)&&b.charAt(j).toLowerCase()!==D.charAt(j).toLowerCase());j++);b=D.substr(0,j)+b.substr(j)}return A.posix.relative(b,D)}resolvePath(c,P){if(c.scheme===S.Schemas.file){const b=y.URI.file(A.resolve(p(c),P));return c.with({authority:b.authority,path:b.path})}return P=E.toPosixPath(P),c.with({path:A.posix.resolve(c.path,P)})}isAbsolutePath(c){return!!c.path&&c.path[0]==="/"}isEqualAuthority(c,P){return c===P||(0,I.equalsIgnoreCase)(c,P)}hasTrailingPathSeparator(c,P=A.sep){if(c.scheme===S.Schemas.file){const b=p(c);return b.length>E.getRoot(b).length&&b[b.length-1]===P}else{const b=c.path;return b.length>1&&b.charCodeAt(b.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(c.fsPath)}}removeTrailingPathSeparator(c,P=A.sep){return(0,e.hasTrailingPathSeparator)(c,P)?c.with({path:c.path.substr(0,c.path.length-1)}):c}addTrailingPathSeparator(c,P=A.sep){let b=!1;if(c.scheme===S.Schemas.file){const D=p(c);b=D!==void 0&&D.length===E.getRoot(D).length&&D[D.length-1]===P}else{P="/";const D=c.path;b=D.length===1&&D.charCodeAt(D.length-1)===47}return!b&&!(0,e.hasTrailingPathSeparator)(c,P)?c.with({path:c.path+"/"}):c}}e.ExtUri=U,e.extUri=new U(()=>!1),e.extUriBiasedIgnorePathCase=new U(W=>W.scheme===S.Schemas.file?!L.isLinux:!0),e.extUriIgnorePathCase=new U(W=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function O(W,c){const P=[];for(let b=0;b<W.length;b++){const D=c(W[b]);W.some((j,k)=>k===b?!1:(0,e.isEqualOrParent)(D,c(j)))||P.push(W[b])}return P}e.distinctParents=O;var V;(function(W){W.META_DATA_LABEL="label",W.META_DATA_DESCRIPTION="description",W.META_DATA_SIZE="size",W.META_DATA_MIME="mime";function c(P){const b=new Map;P.path.substring(P.path.indexOf(";")+1,P.path.lastIndexOf(";")).split(";").forEach(k=>{const[R,B]=k.split(":");R&&B&&b.set(R,B)});const j=P.path.substring(0,P.path.indexOf(";"));return j&&b.set(W.META_DATA_MIME,j),b}W.parseMetaData=c})(V=e.DataUri||(e.DataUri={}));function G(W,c,P){if(c){let b=W.path;return b&&b[0]!==A.posix.sep&&(b=A.posix.sep+b),W.with({scheme:P,authority:c,path:b})}return W.with({scheme:P})}e.toLocalResource=G}),define(te[7],ne([0,1,14,10,18,19,13]),function(Y,e,E,S,A,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.ProcessTimeRunOnceScheduler=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function y(T){return!!T&&typeof T.then=="function"}e.isThenable=y;function p(T){const u=new E.CancellationTokenSource,_=T(u.token),l=new Promise((d,i)=>{const s=u.token.onCancellationRequested(()=>{s.dispose(),u.dispose(),i((0,S.canceled)())});Promise.resolve(_).then(r=>{s.dispose(),u.dispose(),d(r)},r=>{s.dispose(),u.dispose(),i(r)})});return new class{cancel(){u.cancel()}then(d,i){return l.then(d,i)}catch(d){return this.then(void 0,d)}finally(d){return l.finally(d)}}}e.createCancelablePromise=p;function U(T,u,_){return Promise.race([T,new Promise(l=>u.onCancellationRequested(()=>l(_)))])}e.raceCancellation=U;async function O(T){let u=-1;const _=T.map((d,i)=>d.then(s=>(u=i,s))),l=await Promise.race(_);return T.forEach((d,i)=>{i!==u&&d.cancel()}),l}e.raceCancellablePromises=O;function V(T,u,_){let l;const d=setTimeout(()=>{l?.(void 0),_?.()},u);return Promise.race([T.finally(()=>clearTimeout(d)),new Promise(i=>l=i)])}e.raceTimeout=V;function G(T){return new Promise((u,_)=>{const l=T();y(l)?l.then(u,_):u(l)})}e.asPromise=G;class W{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(u){if(this.activePromise){if(this.queuedPromiseFactory=u,!this.queuedPromise){const _=()=>{this.queuedPromise=null;const l=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,l};this.queuedPromise=new Promise(l=>{this.activePromise.then(_,_).then(l)})}return new Promise((_,l)=>{this.queuedPromise.then(_,l)})}return this.activePromise=u(),new Promise((_,l)=>{this.activePromise.then(d=>{this.activePromise=null,_(d)},d=>{this.activePromise=null,l(d)})})}}e.Throttler=W;class c{constructor(){this.current=Promise.resolve(null)}queue(u){return this.current=this.current.then(()=>u(),()=>u())}}e.Sequencer=c;class P{constructor(){this.promiseMap=new Map}queue(u,_){const d=(this.promiseMap.get(u)??Promise.resolve()).catch(()=>{}).then(_).finally(()=>{this.promiseMap.get(u)===d&&this.promiseMap.delete(u)});return this.promiseMap.set(u,d),d}}e.SequencerByKey=P;class b{constructor(u){this.defaultDelay=u,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(u,_=this.defaultDelay){return this.task=u,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((l,d)=>{this.doResolve=l,this.doReject=d}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const l=this.task;return this.task=null,l()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},_),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,S.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=b;class D{constructor(u){this.delayer=new b(u),this.throttler=new W}trigger(u,_){return this.delayer.trigger(()=>this.throttler.queue(u),_)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=D;class j{constructor(){this._isOpen=!1,this._promise=new Promise((u,_)=>{this._completePromise=u})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=j;class k extends j{constructor(u){super();this._timeout=setTimeout(()=>this.open(),u)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=k;function R(T,u){return u?new Promise((_,l)=>{const d=setTimeout(()=>{i.dispose(),_()},T),i=u.onCancellationRequested(()=>{clearTimeout(d),i.dispose(),l((0,S.canceled)())})}):p(_=>R(T,_))}e.timeout=R;function B(T,u=0){const _=setTimeout(T,u);return(0,L.toDisposable)(()=>clearTimeout(_))}e.disposableTimeout=B;function M(T){const u=[];let _=0;const l=T.length;function d(){return _<l?T[_++]():null}function i(s){s!=null&&u.push(s);const r=d();return r?r.then(i):Promise.resolve(u)}return Promise.resolve(null).then(i)}e.sequence=M;function K(T,u=l=>!!l,_=null){let l=0;const d=T.length,i=()=>{if(l>=d)return Promise.resolve(_);const s=T[l++];return Promise.resolve(s()).then(f=>u(f)?Promise.resolve(f):i())};return i()}e.first=K;function n(T,u=l=>!!l,_=null){if(T.length===0)return Promise.resolve(_);let l=T.length;const d=()=>{l=-1;for(const i of T)i.cancel?.()};return new Promise((i,s)=>{for(const r of T)r.then(f=>{--l>=0&&u(f)?(d(),i(f)):l===0&&i(_)}).catch(f=>{--l>=0&&(d(),s(f))})})}e.firstParallel=n;class t{constructor(u){this._size=0,this.maxDegreeOfParalellism=u,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new A.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(u){return this._size++,new Promise((_,l)=>{this.outstandingPromises.push({factory:u,c:_,e:l}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const u=this.outstandingPromises.shift();this.runningPromises++;const _=u.factory();_.then(u.c,u.e),_.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=t;class a extends t{constructor(){super(1)}}e.Queue=a;class o{constructor(){this.queues=new Map}queueFor(u,_=I.extUri){const l=_.getComparisonKey(u);let d=this.queues.get(l);return d||(d=new a,A.Event.once(d.onFinished)(()=>{d?.dispose(),this.queues.delete(l)}),this.queues.set(l,d)),d}dispose(){this.queues.forEach(u=>u.dispose()),this.queues.clear()}}e.ResourceQueue=o;class h{constructor(u,_){this._token=-1,typeof u=="function"&&typeof _=="number"&&this.setIfNotSet(u,_)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(u,_){this.cancel(),this._token=setTimeout(()=>{this._token=-1,u()},_)}setIfNotSet(u,_){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,u()},_))}}e.TimeoutTimer=h;class v{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(u,_){this.cancel(),this._token=setInterval(()=>{u()},_)}}e.IntervalTimer=v;class C{constructor(u,_){this.timeoutToken=-1,this.runner=u,this.timeout=_,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(u=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,u)}get delay(){return this.timeout}set delay(u){this.timeout=u}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=C;class F{constructor(u,_){_%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${_}ms is not a multiple of 1000ms.`),this.runner=u,this.timeout=_,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(u=this.timeout){u%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${u}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(u/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner&&this.runner())}}e.ProcessTimeRunOnceScheduler=F;class H extends C{constructor(u,_){super(u,_);this.units=[]}work(u){this.units.push(u),this.isScheduled()||this.schedule()}doRun(){const u=this.units;this.units=[],this.runner&&this.runner(u)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=H;class z extends L.Disposable{constructor(u,_,l,d){super();this.maxWorkChunkSize=u,this.maxPendingWork=_,this.throttleDelay=l,this.handler=d,this.pendingWork=[],this.throttler=this._register(new L.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(u){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+u.length>this.maxPendingWork)return!1}else if(this.pending+u.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...u),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new C(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=z,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=T=>{const u=setTimeout(()=>{const l=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,l-Date.now())}}))});let _=!1;return{dispose(){_||(_=!0,clearTimeout(u))}}}:e.runWhenIdle=(T,u)=>{const _=requestIdleCallback(T,typeof u=="number"?{timeout:u}:void 0);let l=!1;return{dispose(){l||(l=!0,cancelIdleCallback(_))}}}}();class X{constructor(u){this._didRun=!1,this._executor=()=>{try{this._value=u()}catch(_){this._error=_}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=X;async function Q(T,u,_){let l;for(let d=0;d<_;d++)try{return await T()}catch(i){l=i,await R(u)}throw l}e.retry=Q;class J{hasPending(u){return this._pending?typeof u=="number"?this._pending.taskId===u:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(u,_,l){return this._pending={taskId:u,cancel:()=>l?.(),promise:_},_.then(()=>this.donePending(u),()=>this.donePending(u)),_}donePending(u){this._pending&&u===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const u=this._next;this._next=void 0,u.run().then(u.promiseResolve,u.promiseReject)}}setNext(u){if(this._next)this._next.run=u;else{let _,l;const d=new Promise((i,s)=>{_=i,l=s});this._next={run:u,promise:d,promiseResolve:_,promiseReject:l}}return this._next.promise}}e.TaskSequentializer=J;class x{constructor(u){this.interval=u,this.lastIncrementTime=0,this.value=0}increment(){const u=Date.now();return u-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=u,this.value=0),this.value++,this.value}}e.IntervalCounter=x;class ee{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((u,_)=>{this.completeCallback=u,this.errorCallback=_})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(u){return new Promise(_=>{this.completeCallback(u),this.resolved=!0,_()})}error(u){return new Promise(_=>{this.errorCallback(u),this.rejected=!0,_()})}cancel(){new Promise(u=>{this.errorCallback((0,S.canceled)()),this.rejected=!0,u()})}}e.DeferredPromise=ee;var ie;(function(T){async function u(l){let d;const i=await Promise.all(l.map(s=>s.then(r=>r,r=>{d||(d=r)})));if(typeof d!="undefined")throw d;return i}T.settled=u;function _(l){return new Promise(async(d,i)=>{try{await l(d,i)}catch(s){i(s)}})}T.withAsyncBody=_})(ie=e.Promises||(e.Promises={}))}),define(te[8],ne([0,1,7,3,11,4,2]),function(Y,e,E,S,A,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.hasSiblingFn=e.hasSiblingPromiseFn=e.parse=e.match=e.splitGlobAware=e.getEmptyExpression=void 0;function y(){return Object.create(null)}e.getEmptyExpression=y;const p="**",U="/",O="[/\\\\]",V="[^/\\\\]",G=/\//g;function W(l){switch(l){case 0:return"";case 1:return`${V}*?`;default:return`(?:${O}|${V}+${O}|${O}${V}+)*?`}}function c(l,d){if(!l)return[];const i=[];let s=!1,r=!1,f="";for(const g of l){switch(g){case d:if(!s&&!r){i.push(f),f="";continue}break;case"{":s=!0;break;case"}":s=!1;break;case"[":r=!0;break;case"]":r=!1;break}f+=g}return f&&i.push(f),i}e.splitGlobAware=c;function P(l){if(!l)return"";let d="";const i=c(l,U);if(i.every(s=>s===p))d=".*";else{let s=!1;i.forEach((r,f)=>{if(r===p){s||(d+=W(2),s=!0);return}let g=!1,m="",w=!1,N="";for(const q of r){if(q!=="}"&&g){m+=q;continue}if(w&&(q!=="]"||!N)){let $;q==="-"?$=q:(q==="^"||q==="!")&&!N?$="^":q===U?$="":$=I.escapeRegExpCharacters(q),N+=$;continue}switch(q){case"{":g=!0;continue;case"[":w=!0;continue;case"}":d+=`(?:${c(m,",").map(re=>P(re)).join("|")})`,g=!1,m="";break;case"]":d+="["+N+"]",w=!1,N="";break;case"?":d+=V;continue;case"*":d+=W(1);continue;default:d+=I.escapeRegExpCharacters(q)}}f<i.length-1&&(i[f+1]!==p||f+2<i.length)&&(d+=O),s=!1})}return d}const b=/^\*\*\/\*\.[\w\.-]+$/,D=/^\*\*\/([\w\.-]+)\/?$/,j=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,k=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,R=/^\*\*((\/[\w\.-]+)+)\/?$/,B=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,M=new A.LRUCache(1e4),K=function(){return!1},n=function(){return null};function t(l,d){if(!l)return n;let i;typeof l!="string"?i=l.pattern:i=l,i=i.trim();const s=`${i}_${!!d.trimForExclusions}`;let r=M.get(s);if(r)return a(r,l);let f;if(b.test(i)){const g=i.substr(4);r=function(m,w){return typeof m=="string"&&m.endsWith(g)?i:null}}else(f=D.exec(o(i,d)))?r=h(f[1],i):(d.trimForExclusions?k:j).test(i)?r=v(i,d):(f=R.exec(o(i,d)))?r=C(f[1].substr(1),i,!0):(f=B.exec(o(i,d)))?r=C(f[1],i,!1):r=F(i);return M.set(s,r),a(r,l)}function a(l,d){return typeof d=="string"?l:function(i,s){return S.isEqualOrParent(i,d.base)?l(L.relative(d.base,i),s):null}}function o(l,d){return d.trimForExclusions&&l.endsWith("/**")?l.substr(0,l.length-2):l}function h(l,d){const i=`/${l}`,s=`\\${l}`,r=function(g,m){return typeof g!="string"?null:m?m===l?d:null:g===l||g.endsWith(i)||g.endsWith(s)?d:null},f=[l];return r.basenames=f,r.patterns=[d],r.allBasenames=f,r}function v(l,d){const i=_(l.slice(1,-1).split(",").map(m=>t(m,d)).filter(m=>m!==n),l),s=i.length;if(!s)return n;if(s===1)return i[0];const r=function(m,w){for(let N=0,q=i.length;N<q;N++)if(i[N](m,w))return l;return null},f=i.find(m=>!!m.allBasenames);f&&(r.allBasenames=f.allBasenames);const g=i.reduce((m,w)=>w.allPaths?m.concat(w.allPaths):m,[]);return g.length&&(r.allPaths=g),r}function C(l,d,i){const s=L.sep===L.posix.sep,r=s?l:l.replace(G,L.sep),f=L.sep+r,g=L.posix.sep+l,m=i?function(w,N){return typeof w=="string"&&(w===r||w.endsWith(f)||!s&&(w===l||w.endsWith(g)))?d:null}:function(w,N){return typeof w=="string"&&(w===r||!s&&w===l)?d:null};return m.allPaths=[(i?"*/":"./")+l],m}function F(l){try{const d=new RegExp(`^${P(l)}$`);return function(i){return d.lastIndex=0,typeof i=="string"&&d.test(i)?l:null}}catch(d){return n}}function H(l,d,i){return!l||typeof d!="string"?!1:z(l)(d,void 0,i)}e.match=H;function z(l,d={}){if(!l)return K;if(typeof l=="string"||x(l)){const i=t(l,d);if(i===n)return K;const s=function(r,f){return!!i(r,f)};return i.allBasenames&&(s.allBasenames=i.allBasenames),i.allPaths&&(s.allPaths=i.allPaths),s}return T(l,d)}e.parse=z;function X(l){if(!l)return;let d;return i=>(d||(d=(l()||Promise.resolve([])).then(s=>s?J(s):{})),d.then(s=>!!s[i]))}e.hasSiblingPromiseFn=X;function Q(l){if(!l)return;let d;return i=>{if(!d){const s=l();d=s?J(s):{}}return!!d[i]}}e.hasSiblingFn=Q;function J(l){const d={};for(const i of l)d[i]=!0;return d}function x(l){const d=l;return d&&typeof d.base=="string"&&typeof d.pattern=="string"}e.isRelativePattern=x;function ee(l){return l.allBasenames||[]}e.getBasenameTerms=ee;function ie(l){return l.allPaths||[]}e.getPathTerms=ie;function T(l,d){const i=_(Object.getOwnPropertyNames(l).map(m=>u(m,l[m],d)).filter(m=>m!==n)),s=i.length;if(!s)return n;if(!i.some(m=>!!m.requiresSiblings)){if(s===1)return i[0];const m=function(q,$){for(let Z=0,re=i.length;Z<re;Z++){const le=i[Z](q,$);if(le)return le}return null},w=i.find(q=>!!q.allBasenames);w&&(m.allBasenames=w.allBasenames);const N=i.reduce((q,$)=>$.allPaths?q.concat($.allPaths):q,[]);return N.length&&(m.allPaths=N),m}const r=function(m,w,N){let q;for(let $=0,Z=i.length;$<Z;$++){const re=i[$];re.requiresSiblings&&N&&(w||(w=L.basename(m)),q||(q=w.substr(0,w.length-L.extname(m).length)));const le=re(m,w,q,N);if(le)return le}return null},f=i.find(m=>!!m.allBasenames);f&&(r.allBasenames=f.allBasenames);const g=i.reduce((m,w)=>w.allPaths?m.concat(w.allPaths):m,[]);return g.length&&(r.allPaths=g),r}function u(l,d,i){if(d===!1)return n;const s=t(l,i);if(s===n)return n;if(typeof d=="boolean")return s;if(d){const r=d.when;if(typeof r=="string"){const f=(g,m,w,N)=>{if(!N||!s(g,m))return null;const q=r.replace("$(basename)",w),$=N(q);return(0,E.isThenable)($)?$.then(Z=>Z?l:null):$?l:null};return f.requiresSiblings=!0,f}}return s}function _(l,d){const i=l.filter(m=>!!m.basenames);if(i.length<2)return l;const s=i.reduce((m,w)=>{const N=w.basenames;return N?m.concat(N):m},[]);let r;if(d){r=[];for(let m=0,w=s.length;m<w;m++)r.push(d)}else r=i.reduce((m,w)=>{const N=w.patterns;return N?m.concat(N):m},[]);const f=function(m,w){if(typeof m!="string")return null;if(!w){let q;for(q=m.length;q>0;q--){const $=m.charCodeAt(q-1);if($===47||$===92)break}w=m.substr(q)}const N=s.indexOf(w);return N!==-1?r[N]:null};f.basenames=s,f.patterns=r,f.allBasenames=s;const g=l.filter(m=>!m.basenames);return g.push(f),g}}),define(te[15],ne([0,1,20]),function(Y,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFileResults=void 0;const S=(A,L,I)=>{let y;if(A[0]===255&&A[1]===254)y=new TextDecoder("utf-16le").decode(A);else if(A[0]===254&&A[1]===255)y=new TextDecoder("utf-16be").decode(A);else if(y=new TextDecoder("utf8").decode(A),y.slice(0,1e3).includes("\uFFFD")&&A.includes(0))return[];const p=[],U=[];let O=null,V=I.remainingResultQuota;for(;V>=0&&(O=L.exec(y));)U.push({matchStartIndex:O.index,matchedText:O[0]}),V--;if(U.length){const G=new Set,W=new Set,c=[],P=R=>y.slice(c[R].start,c[R].end);let b=0,D=null;const j=/\r?\n/g;for(;D=j.exec(y);)c.push({start:b,end:D.index}),b=D.index+D[0].length;b<y.length&&c.push({start:b,end:y.length});let k=0;for(const{matchStartIndex:R,matchedText:B}of U){if(V<0)break;for(;Boolean(c[k+1])&&R>c[k].end;)k++;let M=k;for(;Boolean(c[M+1])&&R+B.length>c[M].end;)M++;if(I.beforeContext)for(let h=Math.max(0,k-I.beforeContext);h<k;h++)G.add(h);let K="",n=0;for(let h=k;h<=M;h++){let v=P(h);I.previewOptions?.charsPerLine&&v.length>I.previewOptions.charsPerLine&&(n=Math.max(R-c[k].start-20,0),v=v.substr(n,I.previewOptions.charsPerLine)),K+=`${v}
`,W.add(h)}const t=new E.Range(k,R-c[k].start,M,R+B.length-c[M].start),a=new E.Range(0,R-c[k].start-n,M-k,R+B.length-c[M].start-(M===k?n:0)),o={ranges:t,preview:{text:K,matches:a}};if(p.push(o),I.afterContext)for(let h=M+1;h<=Math.min(M+I.afterContext,c.length-1);h++)G.add(h)}for(const R of G)W.has(R)||p.push({text:P(R),lineNumber:R+1})}return p};e.getFileResults=S}),define(te[16],ne([0,1,8]),function(Y,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IgnoreFile=void 0;class S{constructor(L,I,y){this.isPathIgnored=this.parseIgnoreFile(L,I,y)}isPathIncludedInTraversal(L,I){if(L[0]!=="/"||L[L.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+L);return!this.isPathIgnored(L,I)}isArbitraryPathIgnored(L,I){if(L[0]!=="/"||L[L.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+L);const y=L.split("/").filter(O=>O);let p=!1,U="";for(let O=0;O<y.length;O++){const V=O===y.length-1,G=y[O];if(U=U+"/"+G,!this.isPathIncludedInTraversal(U,V?I:!0)){p=!0;break}}return p}gitignoreLinesToExpression(L,I,y){const p=L.map(O=>this.gitignoreLineToGlob(O,I)),U=Object.create(null);for(const O of p)U[O]=!0;return E.parse(U,{trimForExclusions:y})}parseIgnoreFile(L,I,y){const p=L.split(`
`).map(k=>k.trim()).filter(k=>k&&k[0]!=="#"),U=p.filter(k=>!k.endsWith("/")),O=U.filter(k=>!k.includes("!")),V=this.gitignoreLinesToExpression(O,I,!0),G=U.filter(k=>k.includes("!")).map(k=>k.replace(/!/g,"")),W=this.gitignoreLinesToExpression(G,I,!1),c=p.filter(k=>!k.includes("!")),P=this.gitignoreLinesToExpression(c,I,!0),b=p.filter(k=>k.includes("!")).map(k=>k.replace(/!/g,"")),D=this.gitignoreLinesToExpression(b,I,!1);return(k,R)=>k.startsWith(I)?R&&P(k)&&!D(k)||V(k)&&!W(k)?!0:y?y.isPathIgnored(k,R):!1:!1}gitignoreLineToGlob(L,I){const y=L.indexOf("/");return y===-1||y===L.length-1?L="**/"+L:(y===0&&(L=L.slice(1)),L=I+L),L}}e.IgnoreFile=S}),define(te[21],ne([0,1,8,6,3,4,14,15,16,2,7]),function(Y,e,E,S,A,L,I,y,p,U,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalFileSearchSimpleWorker=e.create=void 0;const V=!1,G=+new Date,W={},c=async(R,B)=>{if(!V)return B();const M=Date.now(),K=(W[R]??0)+1;console.info(R,K,"starting",Math.round((M-G)*10)/1e4),W[R]=K;const n=await B(),t=Date.now();return console.info(R,K,"took",t-M),n};function P(R){return new b(R)}e.create=P;class b{constructor(B){this.host=B,this.cancellationTokens=new Map}cancelQuery(B){this.cancellationTokens.get(B)?.cancel()}registerCancellationToken(B){const M=new I.CancellationTokenSource;return this.cancellationTokens.set(B,M),M}async listDirectory(B,M,K,n){const t=this.registerCancellationToken(n),a=[];let o=!1,h=0;const v=M.maxResults||512,C=M.filePattern?F=>M.filePattern.split("").every(H=>F.includes(H)):F=>!0;return await c("listDirectory",()=>this.walkFolderQuery(B,M,K,F=>{if(!!C(F.name))return h++,v&&h>v&&(o=!0,t.cancel()),a.push(F.path)},t.token)),{results:a,limitHit:o}}async searchDirectory(B,M,K,n){return c("searchInFiles",async()=>{const t=this.registerCancellationToken(n),a=[],o=D(M.contentPattern),h=[];let v=0,C=0,F=!1;const H=async z=>{if(t.token.isCancellationRequested)return;v++;const X=await z.resolve();if(t.token.isCancellationRequested)return;const Q=new Uint8Array(X),J=(0,y.getFileResults)(Q,o,{afterContext:M.afterContext??0,beforeContext:M.beforeContext??0,previewOptions:M.previewOptions,remainingResultQuota:M.maxResults?M.maxResults-C:1e4});if(J.length){C+=J.length,M.maxResults&&C>M.maxResults&&t.cancel();const x={resource:S.URI.joinPath(S.URI.revive(K.folder),z.path),results:J};this.host.sendTextSearchMatch(x,n),a.push(x)}};return await c("walkFolderToResolve",()=>this.walkFolderQuery(B,M,K,async z=>h.push(H(z)),t.token)),await c("resolveOngoingProcesses",()=>Promise.all(h)),V&&console.log("Searched in",v,"files"),{results:a,limitHit:F}})}async walkFolderQuery(B,M,K,n,t){const a=E.parse(K.excludePattern??{},{trimForExclusions:!0}),o=(z,X,Q)=>(z=z.slice(1),!!(a(z,X,Q)||j(M,z))),h=(z,X,Q)=>(z=z.slice(1),!(a(z,X,Q)||!k(M,z))),v=(z,X)=>({type:"file",name:z.name,path:X,resolve:()=>z.getFile().then(J=>J.arrayBuffer())}),C=async(z,X,Q)=>{if(!K.disregardIgnoreFiles){const x=await Promise.all([z.getFileHandle(".gitignore").catch(ee=>{}),z.getFileHandle(".ignore").catch(ee=>{})]);await Promise.all(x.map(async ee=>{if(!ee)return;const ie=new TextDecoder("utf8").decode(new Uint8Array(await(await ee.getFile()).arrayBuffer()));Q=new p.IgnoreFile(ie,X,Q)}))}const J=O.Promises.withAsyncBody(async x=>{const ee=[],ie=[],T=[],u=new Set;for await(const _ of z.entries())T.push(_),u.add(_[0]);for(const[_,l]of T){if(t.isCancellationRequested)break;const d=X+_;if(Q&&!Q.isPathIncludedInTraversal(d,l.kind==="directory"))continue;const i=s=>u.has(s);l.kind==="directory"&&!o(d,_,i)?ie.push(C(l,d+"/",Q)):l.kind==="file"&&h(d,_,i)&&ee.push(v(l,d))}x([...await Promise.all(ie),...ee])});return{type:"dir",name:z.name,entries:J}},F=async(z,X)=>{t.isCancellationRequested||await Promise.all((await z.entries).sort((Q,J)=>-(Q.type==="dir"?0:1)+(J.type==="dir"?0:1)).map(async Q=>Q.type==="dir"?F(Q,X):X(Q)))},H=await c("process",()=>C(B,"/"));await c("resolve",()=>F(H,n))}}e.LocalFileSearchSimpleWorker=b;function D(R){return(0,U.createRegExp)(R.pattern,!!R.isRegExp,{wholeWord:R.isWordMatch,global:!0,matchCase:R.isCaseSensitive,multiline:!0,unicode:!0})}function j(R,B){return!!(R.excludePattern&&E.match(R.excludePattern,B))}function k(R,B){return R.excludePattern&&E.match(R.excludePattern,B)?!1:R.includePattern||R.usingSearchPaths?R.includePattern&&E.match(R.includePattern,B)?!0:R.usingSearchPaths?!!R.folderQueries&&R.folderQueries.some(M=>{const K=M.folder.path;if(A.isEqualOrParent(B,K)){const n=L.relative(K,B);return!M.includePattern||!!E.match(M.includePattern,n)}else return!1}):!1:!0}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/3a6960b964327f0e3882ce18fcebd07ed191b316/core/vs/workbench/services/search/worker/localFileSearch.js.map
